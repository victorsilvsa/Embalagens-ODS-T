<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

    <title>Sistema de OS Embalagens</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>

    <link rel="stylesheet" href="style.css">
</head>

<body class="bg-gray-50 min-h-screen">

    <!-- Toast Notifications -->
    <div id="toast" class="fixed top-4 right-4 z-50 hidden">
        <div class="bg-green-500 text-white px-4 py-3 rounded-lg shadow-lg">
            <span id="toastMessage"></span>
        </div>
    </div>


    <!-- Tela de Login -->
    <div id="loginScreen" class="min-h-screen login-bg flex items-center justify-center p-4">
        <div class="login-card rounded-3xl shadow-xl w-full max-w-md p-8 border">
            <div class="text-center mb-8">
                <div class="w-20 h-25 rounded-2xl flex items-center justify-center mx-auto mb-6 shadow-lg">
                    <img src="Teste.jpg" alt="√çcone" class="rounded-2xl object-contain">
                </div>

                <h1 class="text-3xl font-light text-gray-800 mb-2">Sistema OS Embalagens Tatu√≠</h1>
                <p class="text-gray-500 text-sm">Acesse sua conta</p>
            </div>


            <!-- Abas de Login/Cadastro -->
            <div class="flex mb-6">
                <button id="tabLogin" onclick="mostrarTabLogin()"
                    class="flex-1 py-3 text-sm font-medium border-b-2 border-blue-500 text-blue-600">
                    Entrar
                </button>
                <button id="tabCadastro" onclick="mostrarTabCadastro()"
                    class="flex-1 py-3 text-sm font-medium border-b-2 border-gray-200 text-gray-500">
                    Cadastrar
                </button>
            </div>


            <!-- Formul√°rio de Login -->
            <form id="loginForm" class="space-y-5">
                <div class="space-y-1">
                    <label class="block text-sm font-medium text-gray-600 mb-2">Usu√°rio</label>
                    <input type="text" id="loginUser" required
                        class="w-full p-4 border border-gray-200 rounded-xl input-focus focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-gray-50 focus:bg-white"
                        placeholder="Digite seu usu√°rio">
                </div>
                <div class="space-y-1">
                    <label class="block text-sm font-medium text-gray-600 mb-2">Senha</label>
                    <input type="password" id="loginPassword" required
                        class="w-full p-4 border border-gray-200 rounded-xl input-focus focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-gray-50 focus:bg-white"
                        placeholder="Digite sua senha">
                </div>
                <button type="submit" class="w-full btn-login text-white py-4 rounded-xl font-medium text-sm">
                    <i class="fas fa-sign-in-alt mr-2"></i>Entrar no Sistema
                </button>
                <button id="forgotPasswordBtn" type="button"
                    class="block mx-auto text-white hover:underline text-sm mt-2">
                    Esqueci minha senha
                </button>

            </form>

            <!-- Formul√°rio de Cadastro -->
            <form id="cadastroForm" class="space-y-5 hidden">
                <div class="space-y-1">
                    <label class="block text-sm font-medium text-gray-600 mb-2">Nome Completo</label>
                    <input type="text" id="cadastroNome" required
                        class="w-full p-4 border border-gray-200 rounded-xl input-focus focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-gray-50 focus:bg-white"
                        placeholder="Seu nome completo">
                </div>
                <div class="space-y-1">
                    <label class="block text-sm font-medium text-gray-600 mb-2">Nome de Usu√°rio</label>
                    <input type="text" id="cadastroUser" required
                        class="w-full p-4 border border-gray-200 rounded-xl input-focus focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-gray-50 focus:bg-white"
                        placeholder="Escolha um nome de usu√°rio">
                </div>
                <div class="space-y-1">
                    <label class="block text-sm font-medium text-gray-600 mb-2">Senha</label>
                    <input type="password" id="cadastroPassword" required
                        class="w-full p-4 border border-gray-200 rounded-xl input-focus focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-gray-50 focus:bg-white"
                        placeholder="Crie uma senha">
                </div>
                <div class="space-y-1">
                    <label class="block text-sm font-medium text-gray-600 mb-2">Confirmar Senha</label>
                    <input type="password" id="cadastroConfirmPassword" required
                        class="w-full p-4 border border-gray-200 rounded-xl input-focus focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-gray-50 focus:bg-white"
                        placeholder="Confirme sua senha">
                </div>
                <div class="space-y-1">
                    <label class="block text-sm font-medium text-gray-600 mb-2">Tipo de Conta</label>
                    <select id="cadastroTipo" required
                        class="w-full p-4 border border-gray-200 rounded-xl input-focus focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-gray-50 focus:bg-white">
                        <option value="">Selecione o tipo</option>
                        <option value="funcionario">üë®‚Äçüíº Funcion√°rio (Criar OS)</option>
                    </select>
                </div>
                <button type="submit" class="w-full btn-login text-white py-4 rounded-xl font-medium text-sm">
                    <i class="fas fa-user-plus mr-2"></i>Criar Conta
                </button>
            </form>


        </div>
    </div>


    <!-- Modal de Recupera√ß√£o de Senha -->
    <div id="forgotPasswordModal"
        class="hidden fixed inset-0 flex items-center justify-center bg-black bg-opacity-60 z-50 backdrop-blur-sm">
        <div
            class="bg-gradient-to-br from-[#0a1f44] via-[#1e3a8a] to-[#2563eb] rounded-3xl shadow-2xl w-96 p-8 border border-white/10 backdrop-blur-lg">
            <div class="text-center mb-6">
                <div
                    class="w-16 h-16 mx-auto mb-4 bg-gradient-to-br from-white/20 to-white/5 rounded-full flex items-center justify-center backdrop-blur-sm">
                    <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z">
                        </path>
                    </svg>
                </div>
                <h2 class="text-2xl font-bold text-white mb-2">Recuperar Senha</h2>
                <p class="text-sm text-blue-100/80 leading-relaxed">
                    Digite seu usu√°rio para solicitar redefini√ß√£o de senha.
                </p>
            </div>

            <div class="mb-6">
                <input id="forgotUser" type="text" placeholder="Digite seu usu√°rio"
                    class="w-full bg-white/10 border border-white/20 rounded-xl p-4 text-white placeholder-blue-200/60 focus:ring-2 focus:ring-white/30 focus:border-white/40 focus:outline-none backdrop-blur-sm transition-all duration-300">
            </div>

            <div class="flex gap-3">
                <button onclick="document.getElementById('forgotPasswordModal').classList.add('hidden')"
                    class="flex-1 px-6 py-3 rounded-xl bg-white/10 hover:bg-white/20 text-white font-medium border border-white/20 transition-all duration-300 backdrop-blur-sm">
                    Cancelar
                </button>
                <button id="sendForgotRequest"
                    class="flex-1 px-6 py-3 rounded-xl bg-gradient-to-r from-white to-blue-50 hover:from-blue-50 hover:to-white text-blue-700 font-semibold shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105">
                    Enviar
                </button>
            </div>
        </div>
    </div>
    <!-- Sistema Principal -->
    <div id="mainSystem" class="hidden">


        <!-- Header Mobile -->
        <header class="header-glass sticky top-0 z-40">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <!-- Bot√£o Voltar Mobile -->
                    <button id="btnVoltarMobile" onclick="voltarPaginaAnterior()" class="btn-glass md:hidden"
                        style="display: none;">
                        <i class="fas fa-arrow-left text-slate-700"></i>
                    </button>
                    <div class="flex items-center space-x-3">
                        <img src="Imagem do WhatsApp de 2025-09-15 √†(s) 09.35.28_ddca171c.png" alt="Logo Sistema OS"
                            class="h-20 w-auto">
                        <!-- troque "logo.png" pelo caminho real -->
                        <div>
                            <h1 class="text-lg font-bold text-slate-800">Sistema OS</h1>
                            <p class="text-xs text-slate-500" id="currentTime"></p>
                        </div>
                    </div>
                </div>
                <div class="flex items-center space-x-3">
                    <div class="text-right hidden sm:block">
                        <div class="text-sm font-medium text-slate-700" id="userInfo"></div>
                        <div class="text-xs text-slate-500" id="userRole"></div>
                    </div>

                    <button onclick="logout()" class="btn-glass btn-logout">
                        <i class="fas fa-sign-out-alt text-slate-700"></i>
                    </button>
                </div>
            </div>
        </header>


        <!-- Bottom Navigation Mobile -->
        <nav class="md:hidden backdrop-blur-xl bg-white/80 border-b border-white/20 shadow-lg animate-slideDown">
            <div id="mobileNav" class="flex justify-around items-center py-2">
                <button onclick="showTab('dashboard')"
                    class="tab-btn flex flex-col items-center justify-center text-xs font-medium text-blue-600 tab-active relative transition-all duration-300">
                    <i class="fas fa-home text-lg mb-1 transition-transform duration-300"></i>
                    <span>In√≠cio</span>
                    <span
                        class="absolute bottom-1 left-1/2 transform -translate-x-1/2 w-5 h-1 bg-blue-600 rounded-full tab-line"></span>
                </button>

                <button id="listaTabBtn" onclick="showTab('lista')"
                    class="tab-btn flex flex-col items-center justify-center text-xs font-medium text-gray-400 relative transition-all duration-300 hover:text-blue-600">
                    <i class="fas fa-list text-lg mb-1 transition-transform duration-300 hover:-translate-y-1"></i>
                    <span>Lista</span>
                </button>

                <button onclick="showTab('nova')" id="novaOSBtn"
                    class="tab-btn flex flex-col items-center justify-center text-xs font-medium text-gray-400 relative transition-all duration-300 hover:text-blue-600">
                    <i class="fas fa-plus text-lg mb-1 transition-transform duration-300 hover:-translate-y-1"></i>
                    <span>Nova</span>
                </button>
                <!-- Bot√£o de Chat - vis√≠vel apenas no mobile -->
                <button onclick="showTab('chatTab')" id="chatBtnMobile"
                    class="fixed bottom-4 right-4 md:hidden flex items-center justify-center w-14 h-14 rounded-full shadow-lg bg-gradient-to-r from-[#1e3a8a] to-[#2563eb] text-white hover:scale-110 transition">
                    <i class="fas fa-comments text-xl"></i>
                </button>
                <!-- Bot√£o "Solicitar ADM" - vis√≠vel s√≥ para mec√¢nicos -->
                <button onclick="solicitarAdm()" id="solicitarAdmBtnMobile"
                    class="fixed bottom-20 right-4 md:hidden hidden flex items-center justify-center w-14 h-14 rounded-full shadow-lg bg-gradient-to-r from-pink-600 to-rose-500 text-white hover:scale-110 transition">
                    <i class="fas fa-user-shield text-xl"></i>
                </button>
                <button onclick="showTab('notas')" class="tab-btn flex-1 py-3 text-center text-xs text-gray-500">
                    <i class="fas fa-sticky-note block mb-1"></i>
                    <span>Notas</span>
                </button>


                <button onclick="showTab('config')" id="configBtn"
                    class="tab-btn flex flex-col items-center justify-center text-xs font-medium text-gray-400 relative transition-all duration-300 hover:text-blue-600">
                    <i class="fas fa-cog text-lg mb-1 transition-transform duration-300 hover:-translate-y-1"></i>
                    <span>Config</span>
                </button>
            </div>
        </nav>


        <!-- Desktop Navigation -->
        <nav class="hidden md:block bg-white shadow-sm border-b animate-slideDown">

            <div class="container mx-auto px-4">
                <div id="desktopNav" class="flex justify-center space-x-4">
                    <button onclick="showTab('dashboard')" id="dashboardBtnDesktop"
                        class="tab-btn flex items-center px-6 py-3 text-sm font-medium rounded-t-lg text-gray-500 transition-all duration-300 hover:text-blue hover:scale-105">
                        <i class="fas fa-home mr-2"></i>Dashboard
                    </button>

                    <button onclick="showTab('lista')" id="listaBtnDesktop"
                        class="tab-btn flex items-center px-6 py-3 text-sm font-medium rounded-t-lg text-gray-500 transition-all duration-300 hover:text-blue hover:scale-105">
                        <i class="fas fa-list mr-2"></i>Lista de OS
                    </button>


                    <button onclick="showTab('nova')" id="novaOSBtnDesktop"
                        class="tab-btn flex items-center px-6 py-3 text-sm font-medium rounded-t-lg text-gray-500 transition-all duration-300 hover:text-blue hover:scale-105">
                        <i class="fas fa-plus mr-2"></i>Nova OS
                    </button>
                    <button onclick="showTab('minhasOSFuncionario')" id="minhasOSFuncionarioBtnDesktop"
                        class="tab-btn hidden flex items-center px-6 py-3 text-sm font-medium rounded-t-lg text-gray-500 transition-all duration-300 hover:text-blue hover:scale-105">
                        <i class="fas fa-folder-open mr-2"></i>Minhas OS
                    </button>


                    <button onclick="showTab('mecanico')" id="mecanicoTab"
                        class="tab-btn hidden flex items-center px-6 py-3 text-sm font-medium rounded-t-lg text-gray-500 transition-all duration-300 hover:text-blue hover:scale-105">
                        <i class="fas fa-wrench mr-2"></i>Minhas OS
                    </button>

                    <button onclick="showTab('adminMecanicos')" id="adminMecanicosTab"
                        class="tab-btn hidden flex items-center px-6 py-3 text-sm font-medium rounded-t-lg text-gray-500 transition-all duration-300 hover:text-blue hover:scale-105">
                        <i class="fas fa-users-cog mr-2"></i>Mec√¢nicos
                    </button>
                    <button onclick="showTab('chatTab')" id="chatBtnDesktop"
                        class="tab-btn flex items-center px-6 py-3 text-sm font-medium rounded-t-lg text-gray-500 transition-all duration-300 hover:text-blue hover:scale-105">
                        <i class="fas fa-comments mr-2"></i>Chat
                    </button>
                    <!-- Bot√£o exclusivo dos mec√¢nicos -->
                    <button onclick="solicitarAdm()" id="solicitarAdmBtnDesktop"
                        class="tab-btn flex items-center px-6 py-3 text-sm font-medium rounded-t-lg text-gray-500 transition-all duration-300 hover:text-blue hover:scale-105 hidden">
                        <i class="fas fa-user-shield mr-2"></i>Solicitar ADM
                    </button>
                    <button onclick="showTab('notas')" id="notasTab"
                        class="tab-btn hidden flex items-center px-6 py-3 text-sm font-medium rounded-t-lg text-gray-500 transition-all duration-300 hover:text-blue hover:scale-105">
                        <i class="fas fa-sticky-note mr-2"></i>Notas
                    </button>

                    <button onclick="showTab('config')" id="configBtnDesktop"
                        class="tab-btn flex items-center px-6 py-3 text-sm font-medium rounded-t-lg text-gray-500 transition-all duration-300 hover:text-blue hover:scale-105">
                        <i class="fas fa-cog mr-2"></i>Configura√ß√µes
                    </button>
                </div>
            </div>
        </nav>


        <div class="container mx-auto p-4 pb-20 md:pb-4">

            <!-- Dashboard -->
            <div id="dashboard" class="tab-content">
                <!-- Cards de Estat√≠sticas -->
                <div class="grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-3 sm:gap-4 mb-6">
                    <div class="bg-gradient-to-br from-blue-500 via-blue-600 to-blue-700 text-white rounded-xl p-4 sm:p-5 shadow-lg hover:shadow-xl transform hover:scale-[1.02] transition-all duration-200 cursor-pointer will-change-transform gpu-accelerated"
                        onclick="filtrarDashboard('total')">
                        <div class="text-center space-y-2">
                            <div
                                class="bg-white/20 rounded-full w-12 h-12 sm:w-14 sm:h-14 flex items-center justify-center mx-auto">
                                <i class="fas fa-clipboard-list text-lg sm:text-xl"></i>
                            </div>
                            <div>
                                <p class="text-xs sm:text-sm font-medium opacity-90">Total de OS</p>
                                <p id="totalOS" class="text-2xl sm:text-3xl font-bold">0</p>
                                <p class="text-xs opacity-75">Este m√™s</p>
                            </div>
                        </div>
                    </div>

                    <div class="bg-gradient-to-br from-emerald-500 via-emerald-600 to-emerald-700 text-white rounded-xl p-4 sm:p-5 shadow-lg hover:shadow-xl transform hover:scale-[1.02] transition-all duration-200 cursor-pointer will-change-transform gpu-accelerated"
                        onclick="filtrarDashboard('concluida')">
                        <div class="text-center space-y-2">
                            <div
                                class="bg-white/20 rounded-full w-12 h-12 sm:w-14 sm:h-14 flex items-center justify-center mx-auto">
                                <i class="fas fa-check-circle text-lg sm:text-xl"></i>
                            </div>
                            <div>
                                <p class="text-xs sm:text-sm font-medium opacity-90">Conclu√≠das</p>
                                <p id="concluidasOS" class="text-2xl sm:text-3xl font-bold">0</p>
                                <p id="percentualConcluidas" class="text-xs opacity-75">0%</p>
                            </div>
                        </div>
                    </div>

                    <div class="bg-gradient-to-br from-amber-500 via-amber-600 to-amber-700 text-white rounded-xl p-4 sm:p-5 shadow-lg hover:shadow-xl transform hover:scale-[1.02] transition-all duration-200 cursor-pointer will-change-transform gpu-accelerated"
                        onclick="filtrarDashboard('andamento')">
                        <div class="text-center space-y-2">
                            <div
                                class="bg-white/20 rounded-full w-12 h-12 sm:w-14 sm:h-14 flex items-center justify-center mx-auto">
                                <i class="fas fa-clock text-lg sm:text-xl"></i>
                            </div>
                            <div>
                                <p class="text-xs sm:text-sm font-medium opacity-90">Em Andamento</p>
                                <p id="andamentoOS" class="text-2xl sm:text-3xl font-bold">0</p>
                                <p id="percentualAndamento" class="text-xs opacity-75">0%</p>
                            </div>
                        </div>
                    </div>

                    <div class="bg-gradient-to-br from-rose-500 via-rose-600 to-rose-700 text-white rounded-xl p-4 sm:p-5 shadow-lg hover:shadow-xl transform hover:scale-[1.02] transition-all duration-200 cursor-pointer will-change-transform gpu-accelerated"
                        onclick="filtrarDashboard('pendente')">
                        <div class="text-center space-y-2">
                            <div
                                class="bg-white/20 rounded-full w-12 h-12 sm:w-14 sm:h-14 flex items-center justify-center mx-auto">
                                <i class="fas fa-exclamation-triangle text-lg sm:text-xl"></i>
                            </div>
                            <div>
                                <p class="text-xs sm:text-sm font-medium opacity-90">Pendentes</p>
                                <p id="pendentesOS" class="text-2xl sm:text-3xl font-bold">0</p>
                                <p id="percentualPendentes" class="text-xs opacity-75">0%</p>
                            </div>
                        </div>
                    </div>
                </div>


                <!-- Gr√°ficos e Relat√≥rios -->
                <div class="grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4 sm:gap-5 mb-6">
                    <!-- Gr√°fico de Status -->
                    <div class="lg:col-span-1 xl:col-span-1 rounded-xl shadow-lg p-4 sm:p-5 gpu-accelerated hover:shadow-xl transition-shadow duration-200"
                        style="background: linear-gradient(135deg, #0a1f44, #1e3a8a, #2563eb);">
                        <div class="flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4 gap-3">
                            <h3 class="font-bold text-white text-lg sm:text-xl">
                                <i class="fas fa-chart-pie mr-2 text-white"></i>Status das OS
                            </h3>
                            <select id="periodoGrafico" onchange="atualizarGraficos()"
                                class="text-xs sm:text-sm bg-white/20 border border-white/30 rounded-lg px-3 py-2 text-white font-medium focus:bg-white/30 focus:outline-none focus:ring-2 focus:ring-white/50 transition-all duration-200">
                                <option value="7" class="text-gray-800 bg-white">7 dias</option>
                                <option value="30" selected class="text-gray-800 bg-white">30 dias</option>
                                <option value="90" class="text-gray-800 bg-white">90 dias</option>
                                <option value="365" class="text-gray-800 bg-white">1 ano</option>
                            </select>
                        </div>
                        <div class="relative h-48 sm:h-52 w-full bg-white/10 rounded-lg p-3">
                            <canvas id="graficoStatus"></canvas>
                        </div>
                    </div>

                    <!-- Gr√°fico de Prioridades -->
                    <div class="lg:col-span-1 xl:col-span-1 rounded-xl shadow-lg p-4 sm:p-5 gpu-accelerated hover:shadow-xl transition-shadow duration-200"
                        style="background: linear-gradient(135deg, #0a1f44, #1e3a8a, #2563eb);">
                        <h3 class="font-bold text-white mb-4 text-lg sm:text-xl">
                            <i class="fas fa-chart-bar mr-2 text-white"></i>OS por Prioridade
                        </h3>
                        <div class="relative h-48 sm:h-52 w-full bg-white/10 rounded-lg p-3">
                            <canvas id="graficoPrioridade"></canvas>
                        </div>
                    </div>

                    <!-- Gr√°fico de T√©cnicos -->
                    <div class="lg:col-span-2 xl:col-span-1 rounded-xl shadow-lg p-4 sm:p-5 gpu-accelerated hover:shadow-xl transition-shadow duration-200"
                        style="background: linear-gradient(135deg, #0a1f44, #1e3a8a, #2563eb);">
                        <h3 class="font-bold text-white mb-4 text-lg sm:text-xl">
                            <i class="fas fa-users mr-2 text-white"></i>OS por T√©cnico
                        </h3>
                        <div class="relative h-48 sm:h-52 w-full bg-white/10 rounded-lg p-3">
                            <canvas id="graficoTecnicos"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Se√ß√£o Inferior - Cards de A√ß√£o e Informa√ß√µes -->
                <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4 sm:gap-5">
                    <!-- Relat√≥rios R√°pidos -->
                    <div class="md:col-span-1 xl:col-span-1 rounded-xl shadow-lg p-4 sm:p-5 gpu-accelerated hover:shadow-xl transition-shadow duration-200"
                        style="background: linear-gradient(135deg, #78350f, #a16207, #fcd34d);">
                        <h3 class="font-bold text-white mb-4 text-lg sm:text-xl">
                            <i class="fas fa-file-alt mr-2 text-white"></i>Relat√≥rios
                        </h3>
                        <div class="space-y-2">
                            <button onclick="gerarRelatorio('geral')"
                                class="w-full bg-white/20 hover:bg-white/30 text-white px-3 py-2.5 rounded-lg text-xs sm:text-sm font-medium transition-all duration-200 border border-white/20 hover:scale-[1.02] will-change-transform">
                                <i class="fas fa-chart-line mr-2"></i>Relat√≥rio Geral
                            </button>
                            <button onclick="gerarRelatorio('mensal')"
                                class="w-full bg-white/20 hover:bg-white/30 text-white px-3 py-2.5 rounded-lg text-xs sm:text-sm font-medium transition-all duration-200 border border-white/20 hover:scale-[1.02] will-change-transform">
                                <i class="fas fa-calendar-alt mr-2"></i>Relat√≥rio Mensal
                            </button>
                            <button onclick="gerarRelatorio('tecnicos')"
                                class="w-full bg-white/20 hover:bg-white/30 text-white px-3 py-2.5 rounded-lg text-xs sm:text-sm font-medium transition-all duration-200 border border-white/20 hover:scale-[1.02] will-change-transform">
                                <i class="fas fa-users mr-2"></i>Por T√©cnico
                            </button>
                            <button onclick="abrirModalRelatorios()"
                                class="w-full bg-white/20 hover:bg-white/30 text-white px-3 py-2.5 rounded-lg text-xs sm:text-sm font-medium transition-all duration-200 border border-white/20 hover:scale-[1.02] will-change-transform">
                                <i class="fas fa-cogs mr-2"></i>Personalizados
                            </button>
                        </div>
                    </div>

                    <!-- OS Recentes -->
                    <div class="md:col-span-1 xl:col-span-1 rounded-xl shadow-lg p-4 sm:p-5 gpu-accelerated hover:shadow-xl transition-shadow duration-200"
                        style="background: linear-gradient(135deg, #064e3b, #047857, #22c55e);">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="font-bold text-white text-lg sm:text-xl">
                                <i class="fas fa-clock mr-2 text-white"></i>OS Recentes
                            </h3>
                            <button onclick="showTab('lista')"
                                class="bg-white/20 hover:bg-white/30 text-white px-2 py-1.5 rounded-lg text-xs font-medium transition-all duration-200 border border-white/20 hover:scale-105 will-change-transform">
                                Ver todas
                            </button>
                        </div>
                        <div id="osRecentes" class="space-y-2 max-h-56 overflow-y-auto custom-scroll">
                            <!-- Conte√∫do ser√° preenchido dinamicamente -->
                        </div>
                    </div>

                    <!-- OS Urgentes -->
                    <div class="md:col-span-2 xl:col-span-2 rounded-xl shadow-lg p-4 sm:p-5 gpu-accelerated hover:shadow-xl transition-shadow duration-200"
                        style="background: linear-gradient(135deg, #7f1d1d, #dc2626, #ef4444);">
                        <div class="flex items-center justify-between mb-4">
                            <h3 class="font-bold text-white text-lg sm:text-xl">
                                <i class="fas fa-exclamation-circle mr-2 text-white"></i>OS Urgentes
                            </h3>
                            <span id="contadorUrgentes"
                                class="bg-white/20 text-white px-3 py-1.5 rounded-full text-sm font-bold border border-white/20">0</span>
                        </div>
                        <div id="osUrgentes" class="space-y-2 max-h-56 overflow-y-auto custom-scroll">
                            <!-- Conte√∫do ser√° preenchido dinamicamente -->
                        </div>
                    </div>
                </div>
            </div>
            <!-- Minhas OS (Funcion√°rio) -->
            <div id="minhasOSFuncionario" class="tab-content hidden">
                <!-- Header com gradiente bonito -->
                <div class="relative overflow-hidden rounded-2xl mb-8 shadow-xl"
                    style="background: linear-gradient(135deg, #0a1f44, #1e3a8a, #2563eb, #3b82f6);">
                    <div class="absolute inset-0 bg-white opacity-10"></div>
                    <div class="relative z-10 p-8 text-white">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-4">
                                <div
                                    class="w-16 h-16 bg-white bg-opacity-20 rounded-2xl flex items-center justify-center backdrop-blur-sm border border-white border-opacity-30">
                                    <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor"
                                        viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z">
                                        </path>
                                    </svg>
                                </div>
                                <div>
                                    <h2 class="text-3xl font-bold mb-2">Minhas Ordens de Servi√ßo</h2>
                                    <p class="text-blue-100 text-lg font-medium">Acompanhe suas solicita√ß√µes e cria√ß√µes
                                    </p>
                                </div>
                            </div>
                            <div class="hidden md:flex items-center space-x-6 text-blue-100">
                                <div class="text-center">
                                    <div class="text-2xl font-bold text-white" id="totalMinhasOS">0</div>
                                    <div class="text-sm">Total</div>
                                </div>
                                <div class="text-center">
                                    <div class="text-2xl font-bold text-emerald-300" id="concluidasMinhasOS">0</div>
                                    <div class="text-sm">Conclu√≠das</div>
                                </div>
                                <div class="text-center">
                                    <div class="text-2xl font-bold text-yellow-300" id="pendentesMinhasOS">0</div>
                                    <div class="text-sm">Pendentes</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Elementos decorativos -->
                    <div class="absolute -right-12 -top-12 w-32 h-32 bg-white opacity-5 rounded-full"></div>
                    <div class="absolute -right-6 -bottom-6 w-20 h-20 bg-white opacity-5 rounded-full"></div>
                    <div class="absolute -left-8 top-1/2 w-16 h-16 bg-white opacity-5 rounded-full"></div>
                    <div class="absolute left-1/4 -top-4 w-12 h-12 bg-white opacity-5 rounded-full"></div>
                    <div class="absolute right-1/3 -bottom-2 w-8 h-8 bg-white opacity-5 rounded-full"></div>
                </div>

                <div id="listaMinhasOSFuncionario" class="space-y-3">
                    <!-- As OS criadas pelo funcion√°rio logado v√£o aparecer aqui -->
                </div>
            </div>




            <!-- Lista de OS -->
            <div id="lista" class="tab-content hidden">
                <!-- Header Principal com Gradiente -->
                <div class="relative overflow-hidden rounded-3xl shadow-2xl mb-8"
                    style="background: linear-gradient(135deg, #0a1f44, #1e3a8a, #2563eb);">
                    <div class="absolute inset-0 bg-black bg-opacity-10"></div>
                    <div class="relative px-8 py-6 text-white">
                        <div class="flex items-center justify-between">
                            <div>
                                <h2 class="text-3xl font-bold mb-2">
                                    <i class="fas fa-list mr-3"></i>Lista de Ordens de Servi√ßo
                                </h2>
                                <p class="text-blue-100 opacity-90">Gerencie e acompanhe todas as solicita√ß√µes</p>
                            </div>
                            <div class="hidden md:block">
                                <div
                                    class="w-16 h-16 bg-white bg-opacity-20 rounded-full flex items-center justify-center">
                                    <i class="fas fa-clipboard-list text-2xl"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- √Årea de Filtros Expandida -->
                <div class="bg-white rounded-3xl shadow-xl p-8 border border-gray-100 mb-8">
                    <div class="flex items-center mb-6">
                        <div class="w-10 h-10 rounded-full flex items-center justify-center text-white mr-4"
                            style="background: linear-gradient(135deg, #0a1f44, #1e3a8a, #2563eb);">
                            <i class="fas fa-filter"></i>
                        </div>
                        <h3 class="text-xl font-bold text-gray-800">Filtros e Busca</h3>
                    </div>

                    <!-- Filtros em Grid -->
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6">
                        <!-- Filtro Status -->
                        <div class="space-y-2">
                            <label class="text-sm font-semibold text-gray-700 flex items-center">
                                <i class="fas fa-tasks mr-2 text-blue-500"></i>
                                Status
                            </label>
                            <select id="filtroStatus" onchange="filtrarOS()"
                                class="w-full p-4 border border-gray-200 rounded-xl text-gray-700 bg-gray-50 hover:bg-gray-100 focus:bg-white focus:border-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-100 transition-all duration-200 shadow-sm">
                                <option value="">Todos os Status</option>
                                <option value="pendente">Aberto</option>
                                <option value="andamento">Em Andamento</option>
                                <option value="concluida">Conclu√≠do</option>
                            </select>
                        </div>

                        <!-- Filtro Prioridade -->
                        <div class="space-y-2">
                            <label class="text-sm font-semibold text-gray-700 flex items-center">
                                <i class="fas fa-exclamation-triangle mr-2 text-orange-500"></i>
                                Prioridade
                            </label>
                            <select id="filtroPrioridade" onchange="filtrarOS()"
                                class="w-full p-4 border border-gray-200 rounded-xl text-gray-700 bg-gray-50 hover:bg-gray-100 focus:bg-white focus:border-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-100 transition-all duration-200 shadow-sm">
                                <option value="">Todas as Prioridades</option>
                                <option value="baixa">Baixa</option>
                                <option value="media">M√©dia</option>
                                <option value="alta">Alta</option>
                                <option value="urgente">Urgente</option>
                            </select>
                        </div>

                        <!-- Campo de Busca -->
                        <div class="space-y-2">
                            <label class="text-sm font-semibold text-gray-700 flex items-center">
                                <i class="fas fa-search mr-2 text-green-500"></i>
                                Buscar
                            </label>
                            <div class="relative">
                                <i
                                    class="fas fa-search absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                                <input type="text" id="filtroBusca" onkeyup="filtrarOS()"
                                    placeholder="Buscar por ID, solicitante, equipamento..."
                                    class="w-full p-4 pl-12 border border-gray-200 rounded-xl text-gray-700 bg-gray-50 placeholder-gray-400 hover:bg-gray-100 focus:bg-white focus:border-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-100 transition-all duration-200 shadow-sm">
                            </div>
                        </div>
                    </div>


                    <!-- Bot√£o Limpar Filtros -->
                    <div class="flex justify-end">
                        <button onclick="limparFiltros()"
                            class="px-6 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-xl transition-all duration-200 shadow-sm hover:shadow-md transform hover:scale-105 text-sm font-medium">
                            <i class="fas fa-eraser mr-2"></i>
                            Limpar Filtros
                        </button>
                    </div>
                </div>


                <!-- Lista de OS Expandida -->
                <div class="bg-white rounded-3xl shadow-xl border border-gray-100">
                    <!-- Header da Lista -->
                    <div class="px-8 py-6 border-b border-gray-100">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center">
                                <div class="w-10 h-10 rounded-full flex items-center justify-center text-white mr-4"
                                    style="background: linear-gradient(135deg, #0a1f44, #1e3a8a, #2563eb);">
                                    <i class="fas fa-clipboard-list"></i>
                                </div>
                                <div>
                                    <h3 class="text-xl font-bold text-gray-800">Ordens de Servi√ßo</h3>
                                </div>
                            </div>

                            <!-- Bot√£o PDF Centralizado -->
                            <button onclick="exportarPDF()"
                                class="flex items-center px-6 py-3 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white rounded-xl transition-all duration-200 shadow-lg hover:shadow-xl transform hover:scale-105 font-medium">
                                <i class="fas fa-file-pdf mr-2"></i>
                                Exportar PDF
                            </button>
                        </div>
                    </div>


                    <div id="listaOS" class="space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar">
                        <!-- As OS ser√£o inseridas aqui dinamicamente -->
                    </div>



                    <!-- Mensagem quando n√£o h√° OS -->
                    <div id="mensagemVazia" class="hidden text-center py-16">
                        <div class="w-24 h-24 mx-auto mb-6 bg-gray-100 rounded-full flex items-center justify-center">
                            <i class="fas fa-inbox text-3xl text-gray-400"></i>
                        </div>
                        <h3 class="text-xl font-semibold text-gray-600 mb-2">Nenhuma OS encontrada</h3>
                        <p class="text-gray-500">Tente ajustar os filtros ou criar uma nova ordem de servi√ßo</p>
                    </div>
                </div>
            </div>
            <!-- Nova OS -->
            <div id="nova" class="tab-content hidden">
                <!-- Header da Nova OS -->
                <div
                    class="bg-gradient-to-br from-blue-600 via-blue-700 to-indigo-800 rounded-3xl p-8 mb-8 text-white shadow-2xl relative overflow-hidden">
                    <!-- Background Pattern -->
                    <div class="absolute inset-0 opacity-10">
                        <div
                            class="absolute top-0 left-0 w-32 h-32 bg-white rounded-full -translate-x-16 -translate-y-16">
                        </div>
                        <div
                            class="absolute bottom-0 right-0 w-24 h-24 bg-white rounded-full translate-x-12 translate-y-12">
                        </div>
                        <div class="absolute top-1/2 left-1/3 w-16 h-16 bg-white rounded-full opacity-50"></div>
                    </div>

                    <div class="flex items-center justify-between relative z-10">
                        <div>
                            <h2 class="text-4xl font-bold mb-3 flex items-center">
                                <div class="bg-white bg-opacity-20 p-4 rounded-2xl mr-4 glass-effect">
                                    <i class="fas fa-plus-circle text-3xl"></i>
                                </div>
                                Nova Ordem de Servi√ßo
                            </h2>
                            <p class="text-blue-100 text-lg font-medium">Preencha os dados abaixo para criar uma nova OS
                            </p>
                        </div>
                        <div class="hidden md:block">
                            <div
                                class="glass-effect rounded-3xl p-6 text-center border border-white border-opacity-30 shadow-xl">
                                <div class="text-4xl font-bold mb-2" id="proximoNumeroOS">#001</div>
                                <div class="text-sm text-blue-100 font-medium">Pr√≥ximo n√∫mero</div>
                            </div>
                        </div>
                    </div>
                </div>


                <!-- Formul√°rio com Steps -->
                <div class="bg-white rounded-xl shadow-lg overflow-hidden">
                    <!-- Progress Bar -->
                    <div class="bg-gray-50 px-6 py-4 border-b">
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-sm font-medium text-gray-600">Progresso do Formul√°rio</span>
                            <span class="text-sm text-gray-500" id="progressText">1 de 4</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-2">
                            <div class="bg-blue-600 h-2 rounded-full transition-all duration-300" id="progressBar"
                                style="width: 25%"></div>
                        </div>
                    </div>

                    <!-- Steps Navigation -->
                    <div class="px-6 py-4 bg-gray-50 border-b">
                        <div class="flex justify-between">
                            <button type="button" class="step-nav active" data-step="1">
                                <div
                                    class="w-8 h-8 rounded-full bg-blue-600 text-white flex items-center justify-center text-sm font-bold mb-1">
                                    1</div>
                                <span class="text-xs">Solicitante</span>
                            </button>
                            <button type="button" class="step-nav" data-step="2">
                                <div
                                    class="w-8 h-8 rounded-full bg-gray-300 text-gray-600 flex items-center justify-center text-sm font-bold mb-1">
                                    2</div>
                                <span class="text-xs">M√°quina</span>
                            </button>
                            <button type="button" class="step-nav" data-step="3">
                                <div
                                    class="w-8 h-8 rounded-full bg-gray-300 text-gray-600 flex items-center justify-center text-sm font-bold mb-1">
                                    3</div>
                                <span class="text-xs">Servi√ßo</span>
                            </button>
                            <button type="button" class="step-nav" data-step="4">
                                <div
                                    class="w-8 h-8 rounded-full bg-gray-300 text-gray-600 flex items-center justify-center text-sm font-bold mb-1">
                                    4</div>
                                <span class="text-xs">Finalizar</span>
                            </button>
                        </div>
                    </div>

                    <form id="osForm" class="p-6">
                        <!-- Step 1: Informa√ß√µes do Solicitante -->
                        <div class="form-step active" id="step1">
                            <div class="text-center mb-6">
                                <div
                                    class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
                                    <i class="fas fa-user text-2xl text-blue-600"></i>
                                </div>
                                <h3 class="text-xl font-bold text-gray-800 mb-2">Informa√ß√µes do Solicitante</h3>
                                <p class="text-gray-600">Quem est√° solicitando esta ordem de servi√ßo?</p>
                            </div>

                            <div class="max-w-2xl mx-auto space-y-6">
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <div class="space-y-2">
                                        <label class="block text-sm font-semibold text-gray-700">
                                            <i class="fas fa-user mr-2 text-blue-500"></i>Nome Completo *
                                        </label>
                                        <input type="text" id="solicitante" required
                                            class="w-full p-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all bg-gray-50 focus:bg-white"
                                            placeholder="Digite o nome completo do solicitante">
                                        <div class="text-xs text-gray-500 mt-1">Nome da pessoa que est√° fazendo a
                                            solicita√ß√£o</div>
                                    </div>

                                    <div class="space-y-2">
                                        <label class="block text-sm font-semibold text-gray-700">
                                            <i class="fas fa-industry mr-2 text-green-500"></i>Setor
                                        </label>
                                        <select id="setor" required
                                            class="w-full p-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all bg-gray-50 focus:bg-white">
                                            <option value="">Selecione o setor</option>
                                            <option value="Extrusora Bal√£o">üéà Extrusora Bal√£o</option>
                                            <option value="Extrusora Flat">üìÑ Extrusora Flat</option>
                                            <option value="Bobinadeira">üåÄ Bobinadeira</option>
                                            <option value="SSM">‚ö° SSM</option>
                                            <option value="GI-PP">‚öôÔ∏è GI-PP</option>
                                            <option value="Nylon">üßµ Nylon</option>
                                            <option value="M√°quina de corte">‚úÇÔ∏è M√°quina de corte</option>
                                            <option value="Barrac√£o XV">üè≠ Barrac√£o XV</option>
                                            <option value="Prensa">üî® Prensa</option>
                                            <option value="Outros">‚ûï Outros</option>
                                        </select>
                                        <div class="text-xs text-gray-500 mt-1">Selecione a m√°quina ou setor relacionado
                                            √† solicita√ß√£o</div>
                                    </div>

                                </div>

                                <div class="space-y-2">
                                    <label class="block text-sm font-semibold text-gray-700">
                                        <i class="fas fa-phone mr-2 text-purple-500"></i>Contato (Opcional)
                                    </label>
                                    <input type="text" id="contatoSolicitante"
                                        class="w-full p-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all bg-gray-50 focus:bg-white"
                                        placeholder="Telefone, ramal ou e-mail para contato">
                                    <div class="text-xs text-gray-500 mt-1">Informa√ß√£o para contato em caso de d√∫vidas
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Step 2: Informa√ß√µes do Equipamento -->
                        <div class="form-step" id="step2">
                            <div class="text-center mb-6">
                                <div
                                    class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                                    <i class="fas fa-cogs text-2xl text-green-600"></i>
                                </div>
                                <h3 class="text-xl font-bold text-gray-800 mb-2">Informa√ß√µes do Equipamento</h3>
                                <p class="text-gray-600">Qual equipamento precisa de manuten√ß√£o?</p>
                            </div>

                            <div class="max-w-2xl mx-auto space-y-6">
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <div class="space-y-2">
                                        <label class="block text-sm font-semibold text-gray-700">
                                            <i class="fas fa-wrench mr-2 text-blue-500"></i>Nome do Equipamento *
                                        </label>
                                        <input type="text" id="equipamento" required
                                            class="w-full p-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all bg-gray-50 focus:bg-white"
                                            placeholder="Ex: Nome da m√°quina">
                                        <div class="text-xs text-gray-500 mt-1">Nome ou modelo do equipamento</div>
                                    </div>

                                    <div class="space-y-2">
                                        <label class="block text-sm font-semibold text-gray-700">
                                            <i class="fas fa-map-marker-alt mr-2 text-red-500"></i>Localiza√ß√£o Exata *
                                        </label>
                                        <input type="text" id="localizacao" required
                                            class="w-full p-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all bg-gray-50 focus:bg-white"
                                            placeholder="Ex: Nome do Setor..">
                                        <div class="text-xs text-gray-500 mt-1">Onde exatamente est√° o equipamento</div>
                                    </div>
                                </div>

                                <div class="space-y-2">
                                    <label class="block text-sm font-semibold text-gray-700">
                                        <i class="fas fa-tools mr-2 text-orange-500"></i>Tipo de Servi√ßo *
                                    </label>
                                    <select id="tipoServico" required
                                        class="w-full p-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all bg-gray-50 focus:bg-white">
                                        <option value="">Selecione o tipo de servi√ßo</option>
                                        <option value="Preventiva">üîÑ Manuten√ß√£o Preventiva</option>
                                        <option value="Corretiva">üîß Manuten√ß√£o Corretiva</option>
                                        <option value="Instala√ß√£o">üì¶ Instala√ß√£o</option>
                                        <option value="Reparo">üõ†Ô∏è Reparo</option>
                                        <option value="Inspe√ß√£o">üîç Inspe√ß√£o</option>
                                        <option value="Limpeza">üßπ Limpeza T√©cnica</option>
                                        <option value="Calibra√ß√£o">‚öñÔ∏è Calibra√ß√£o</option>
                                        <option value="Upgrade">‚¨ÜÔ∏è Upgrade/Melhoria</option>
                                        <option value="Outros">üìù Outros</option>
                                    </select>
                                    <div class="text-xs text-gray-500 mt-1">Que tipo de trabalho precisa ser feito</div>
                                </div>

                                <div class="space-y-2">
                                    <label class="block text-sm font-semibold text-gray-700">
                                        <i class="fas fa-info-circle mr-2 text-indigo-500"></i>N√∫mero de
                                        S√©rie/Patrim√¥nio (Opcional)
                                    </label>
                                    <input type="text" id="numeroSerie"
                                        class="w-full p-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all bg-gray-50 focus:bg-white"
                                        placeholder="N√∫mero de s√©rie ou patrim√¥nio do equipamento">
                                    <div class="text-xs text-gray-500 mt-1">Para identifica√ß√£o precisa do equipamento
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Step 3: Detalhes do Servi√ßo -->
                        <div class="form-step" id="step3">
                            <div class="text-center mb-6">
                                <div
                                    class="w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4">
                                    <i class="fas fa-clipboard-list text-2xl text-yellow-600"></i>
                                </div>
                                <h3 class="text-xl font-bold text-gray-800 mb-2">Detalhes do Servi√ßo</h3>
                                <p class="text-gray-600">Descreva o problema e defina prioridades</p>
                            </div>

                            <div class="max-w-2xl mx-auto space-y-6">
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <div class="space-y-2">
                                        <label class="block text-sm font-semibold text-gray-700">
                                            <i class="fas fa-user-cog mr-2 text-blue-500"></i>T√©cnico Respons√°vel *
                                        </label>
                                        <select id="tecnico" required
                                            class="w-full p-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all bg-gray-50 focus:bg-white">
                                            <option value="">Selecione um t√©cnico</option>
                                        </select>
                                        <div class="text-xs text-gray-500 mt-1">Quem vai executar o servi√ßo</div>
                                    </div>

                                    <div class="space-y-2">
                                        <label class="block text-sm font-semibold text-gray-700">
                                            <i class="fas fa-exclamation-triangle mr-2 text-red-500"></i>N√≠vel de
                                            Prioridade *
                                        </label>
                                        <select id="prioridade"
                                            class="w-full p-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all bg-gray-50 focus:bg-white">
                                            <option value="baixa">üü¢ Baixa - Pode aguardar</option>
                                            <option value="media" selected>üü° M√©dia - Prazo normal</option>
                                            <option value="alta">üü† Alta - Importante</option>
                                            <option value="urgente">üî¥ Urgente - Parar produ√ß√£o</option>
                                        </select>
                                        <div class="text-xs text-gray-500 mt-1">Urg√™ncia do problema</div>
                                    </div>
                                </div>


                                <div class="space-y-2">
                                    <label class="block text-sm font-semibold text-gray-700">
                                        <i class="fas fa-file-alt mr-2 text-indigo-500"></i>Descri√ß√£o Detalhada do
                                        Problema *
                                    </label>
                                    <textarea id="descricao" required rows="5"
                                        class="w-full p-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all bg-gray-50 focus:bg-white resize-none"
                                        placeholder="Descreva detalhadamente:&#10;‚Ä¢ O que est√° acontecendo?&#10;‚Ä¢ Quando come√ßou o problema?&#10;‚Ä¢ Que sintomas foram observados?&#10;‚Ä¢ J√° foi tentado algum reparo?"></textarea>
                                    <div class="text-xs text-gray-500 mt-1">Seja o mais espec√≠fico poss√≠vel para ajudar
                                        o t√©cnico</div>
                                </div>
                            </div>
                        </div>

                        <!-- Step 4: Informa√ß√µes Adicionais -->
                        <div class="form-step" id="step4">
                            <div class="text-center mb-6">
                                <div
                                    class="w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4">
                                    <i class="fas fa-check-circle text-2xl text-purple-600"></i>
                                </div>
                                <h3 class="text-xl font-bold text-gray-800 mb-2">Informa√ß√µes Adicionais</h3>
                                <p class="text-gray-600">Finalize com detalhes extras (opcional)</p>
                            </div>

                            <div class="max-w-2xl mx-auto space-y-6">
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <div class="space-y-2">
                                        <label class="block text-sm font-semibold text-gray-700">
                                            <i class="fas fa-box mr-2 text-orange-500"></i>Materiais Necess√°rios
                                        </label>
                                        <textarea id="materiais" rows="4"
                                            class="w-full p-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all bg-gray-50 focus:bg-white resize-none"
                                            placeholder="Liste materiais que podem ser necess√°rios:&#10;‚Ä¢ Pe√ßas de reposi√ß√£o&#10;‚Ä¢ Ferramentas especiais&#10;‚Ä¢ Consum√≠veis"></textarea>
                                        <div class="text-xs text-gray-500 mt-1">Ajuda o t√©cnico a se preparar</div>
                                    </div>

                                    <div class="space-y-2">
                                        <label class="block text-sm font-semibold text-gray-700">
                                            <i class="fas fa-sticky-note mr-2 text-green-500"></i>Observa√ß√µes Especiais
                                        </label>
                                        <textarea id="observacoes" rows="4"
                                            class="w-full p-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all bg-gray-50 focus:bg-white resize-none"
                                            placeholder="Informa√ß√µes adicionais:&#10;‚Ä¢ Cuidados especiais&#10;‚Ä¢ Hor√°rios restritos&#10;‚Ä¢ Equipamentos relacionados"></textarea>
                                        <div class="text-xs text-gray-500 mt-1">Qualquer informa√ß√£o relevante</div>
                                    </div>
                                </div>


                                <!-- Resumo da OS -->
                                <div
                                    class="bg-gradient-to-r from-blue-50 to-indigo-50 border-2 border-blue-200 rounded-xl p-6">
                                    <h4 class="font-bold text-blue-800 mb-4 flex items-center">
                                        <i class="fas fa-clipboard-check mr-2"></i>Resumo da Ordem de Servi√ßo
                                    </h4>
                                    <div id="resumoOS" class="space-y-2 text-sm">
                                        <!-- Ser√° preenchido dinamicamente -->
                                    </div>
                                </div>
                            </div>
                        </div>


                        <!-- Navigation Buttons -->
                        <div class="flex flex-col md:flex-row justify-between items-center gap-4 pt-6 border-t mt-8">
                            <!-- Bot√£o Anterior -->
                            <button type="button" id="btnAnterior" onclick="anteriorStep()"
                                class="w-full md:w-auto px-6 py-3 bg-gray-500 hover:bg-gray-600 text-white rounded-xl font-medium transition-all flex items-center justify-center md:justify-start"
                                style="display: none;">
                                <i class="fas fa-chevron-left mr-2"></i>Anterior
                            </button>

                            <!-- Grupo de A√ß√µes -->
                            <div class="flex flex-col sm:flex-row gap-3 w-full md:w-auto">
                                <button type="button" onclick="limparForm()"
                                    class="w-full sm:w-auto px-6 py-3 bg-red-500 hover:bg-red-600 text-white rounded-xl font-medium transition-all flex items-center justify-center sm:justify-start">
                                    <i class="fas fa-trash mr-2"></i>Limpar Tudo
                                </button>

                                <button type="button" id="btnProximo" onclick="proximoStep()"
                                    class="w-full sm:w-auto px-8 py-3 bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white rounded-xl font-medium transition-all flex items-center justify-center sm:justify-start shadow-lg">
                                    Pr√≥ximo<i class="fas fa-chevron-right ml-2"></i>
                                </button>

                                <button type="submit" id="btnFinalizar"
                                    class="w-full sm:w-auto px-8 py-3 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white rounded-xl font-medium transition-all flex items-center justify-center sm:justify-start shadow-lg"
                                    style="display: none;">
                                    <i class="fas fa-check mr-2"></i>Criar OS
                                </button>
                            </div>
                        </div>

                    </form>
                </div>
            </div>
            <!-- √Årea do Mec√¢nico -->
            <div>
                <!-- Select aparece s√≥ para admin -->

            </div>

            <div id="mecanico" class="bg-white rounded-xl shadow-sm p-4 tab-content hidden">
                <div id="minhasOS" class="space-y-3"></div>

            </div>
            <!-- Abas Gerais -->

            <div id="chatTab" class="tab-content p-4 md:p-6 rounded-2xl bg-white/50 backdrop-blur gpu-accelerated">
                <!-- Barra superior -->
                <div
                    class="mb-4 rounded-xl p-4 md:p-5 text-white relative overflow-hidden bg-gradient-to-r from-[#0a1f44] via-[#1e3a8a] to-[#2563eb]">
                    <div class="flex items-center gap-3">
                        <div
                            class="w-12 h-12 rounded-lg bg-white/20 backdrop-blur flex items-center justify-center font-extrabold">
                            SL</div>
                        <div>
                            <div class="font-extrabold leading-tight">Suporte ‚Ä¢ Conversas</div>
                            <div class="text-xs opacity-90">Central de mensagens</div>
                        </div>
                        <span id="statusBadge"
                            class="ml-auto text-xs bg-white/20 border border-white/40 px-3 py-1 rounded-full">Online</span>
                    </div>
                    <div class="pointer-events-none absolute inset-0 opacity-20 bg-radial"
                        style="background:radial-gradient(closest-side,rgba(255,255,255,.35),transparent 70%)"></div>
                </div>

                <!-- Container responsivo -->
                <div class="mobile-chat-container grid grid-cols-1 md:grid-cols-4 gap-4">
                    <!-- Lista de conversas -->
                    <div id="chatListPanel"
                        class="col-span-1 rounded-xl p-3 shadow bg-white/90 backdrop-blur pattern-surface">
                        <div class="flex items-center justify-between mb-3">
                            <h3 class="font-bold">Conversas</h3>
                            <button onclick="abrirNovaConversaModal()"
                                class="text-sm px-3 py-1.5 rounded-lg text-white shadow bg-gradient-to-r from-[#1e3a8a] to-[#2563eb] hover:opacity-95">Nova</button>
                        </div>
                        <input id="chatSearch" oninput="filtrarConversaLista()" placeholder="Pesquisar..."
                            class="w-full p-2.5 rounded-lg border mb-2 focus:outline-none focus:ring-4 focus:ring-blue-200">
                        <div id="conversasList" class="space-y-2 h-[60vh] overflow-auto pr-2"></div>
                    </div>

                    <!-- Mensagens -->
                    <div id="chatMessagePanel"
                        class="col-span-3 rounded-xl p-3 shadow flex flex-col bg-white/90 backdrop-blur"
                        style="background: linear-gradient(180deg, #f0f9ff 0%, #e0f2fe 100%); max-height:80vh; overflow-y:auto;">
                        <!-- Bot√£o voltar mobile -->
                        <button id="backToListBtn" class="mobile-back-btn" onclick="voltarParaLista()">
                            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M15 19l-7-7 7-7">
                                </path>
                            </svg>
                            <span class="font-medium">Conversas</span>
                        </button>

                        <div id="chatHeader" class="flex items-center gap-3 border-b pb-3 mb-3">
                            <div id="chatHeaderAvatarFallback" class="w-12 h-12 rounded-full avatar-fallback hidden">üôÇ
                            </div>
                            <div class="min-w-0">
                                <div id="chatHeaderName" class="font-extrabold text-slate-800 truncate">Selecione uma
                                    conversa</div>
                                <div id="chatHeaderLast" class="text-xs text-gray-500">√öltima mensagem</div>
                            </div>
                            <div id="chatTyping" class="ml-auto text-sm text-gray-500"></div>
                        </div>

                        <div id="messagesContainer" class="relative flex-1 overflow-auto p-3 space-y-3 rounded border"
                            style="height:70vh; background:linear-gradient(180deg, #acc5fb, #e3eafb); border-color:#eef2ff;">
                            <!-- Empty state -->
                            <div id="emptyState"
                                class="absolute inset-0 flex flex-col items-center justify-center text-center p-6 select-none">
                                <div
                                    class="w-16 h-16 rounded-full bg-blue-50 text-blue-600 flex items-center justify-center shadow-inner mb-4 border border-blue-100">
                                    <svg width="28" height="28" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                                        <path
                                            d="M7 8h10M7 12h7M5 20l3-3h9a3 3 0 003-3V7a3 3 0 00-3-3H7A3 3 0 004 7v10l1 3z"
                                            stroke="currentColor" stroke-width="1.5" stroke-linecap="round"
                                            stroke-linejoin="round" />
                                    </svg>
                                </div>
                                <h3 class="text-lg font-extrabold text-slate-800">Selecione uma conversa</h3>
                                <p class="text-sm text-slate-500 mt-1">Voc√™ ver√° suas mensagens aqui. Escolha algu√©m na
                                    lista ou comece um novo papo.</p>
                                <div class="mt-4 flex items-center gap-2">
                                    <button onclick="abrirNovaConversaModal()"
                                        class="px-3 py-2 rounded-lg text-white bg-gradient-to-r from-[#1e3a8a] to-[#2563eb] shadow hover:opacity-95">Nova
                                        conversa</button>
                                    <button onclick="carregarListaConversasUsuario()"
                                        class="px-3 py-2 rounded-lg border">Atualizar lista</button>
                                </div>
                            </div>
                        </div>

                        <div class="mt-3 flex items-center gap-2">
                            <input id="messageInput"
                                class="flex-1 p-3 rounded-lg border focus:outline-none focus:ring-4 focus:ring-blue-200"
                                placeholder="Escreva uma mensagem..."
                                onkeydown="if(event.key==='Enter'){enviarMensagemAtiva()}">
                            <button onclick="enviarMensagemAtiva()"
                                class="px-4 py-2 rounded-lg text-white shadow bg-gradient-to-r from-[#1e3a8a] to-[#2563eb] hover:opacity-95">Enviar</button>
                        </div>
                    </div>
                </div>
            </div>






            <!-- √Årea Admin - Todas as OS dos Mec√¢nicos -->
            <div id="adminMecanicos" class="tab-content hidden">
                <div class="container mx-auto px-3 sm:px-4 lg:px-6 py-4">
                    <!-- Header com gradiente e bot√£o PDF -->
                    <div
                        class="bg-gradient-to-r from-[#0a1f44] via-[#1e3a8a] to-[#2563eb] rounded-xl p-4 sm:p-6 mb-4 sm:mb-6 text-white shadow-lg relative overflow-hidden gpu-accelerated">
                        <!-- Efeito decorativo -->
                        <div
                            class="absolute top-0 right-0 w-20 h-20 sm:w-32 sm:h-32 bg-white opacity-5 rounded-full transform translate-x-4 sm:translate-x-8 -translate-y-4 sm:-translate-y-8">
                        </div>
                        <div
                            class="absolute bottom-0 left-0 w-16 h-16 sm:w-24 sm:h-24 bg-white opacity-5 rounded-full transform -translate-x-2 sm:-translate-x-4 translate-y-2 sm:translate-y-4">
                        </div>

                        <div class="relative z-10 flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4">
                            <div class="flex-1">
                                <h2 class="text-xl sm:text-2xl font-bold flex items-center mb-2">
                                    <i class="fas fa-users-cog mr-2 sm:mr-3 text-blue-200 text-2xl sm:text-3xl"></i>
                                    <span>Gest√£o de Mec√¢nicos - Todas as OS</span>
                                </h2>
                                <p class="text-blue-100 text-sm">Visualize e gerencie todas as ordens de servi√ßo dos
                                    mec√¢nicos</p>
                            </div>

                            <!-- Bot√£o PDF -->
                            <div class="flex-shrink-0">
                                <button id="btnExportarPDFMecanicos" onclick="exportarPDFMecanicos()"
                                    class="bg-white text-blue-600 px-4 sm:px-6 py-2.5 sm:py-3 rounded-xl font-semibold shadow-lg hover:bg-blue-50 hover:shadow-xl transform hover:scale-[1.02] transition-all duration-200 flex items-center gap-2 group will-change-transform">
                                    <i
                                        class="fas fa-file-pdf text-red-500 group-hover:scale-110 transition-transform duration-200"></i>
                                    <span class="hidden sm:inline">Exportar PDF</span>
                                    <span class="sm:hidden">PDF</span>
                                    <i class="fas fa-download text-xs opacity-70"></i>
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Filtros com design melhorado -->
                    <div class="mb-4 sm:mb-6">
                        <h3 class="text-lg font-semibold text-gray-700 mb-4 flex items-center">
                            <i class="fas fa-filter mr-2 text-blue-600"></i>Filtros de Busca
                        </h3>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-3 sm:gap-4">
                            <div class="relative">
                                <label class="block text-sm font-medium text-gray-600 mb-2">Mec√¢nico</label>
                                <select id="filtroMecanicoAdmin" onchange="carregarTodasOSMecanicos()"
                                    class="w-full p-3 sm:p-4 border-2 border-blue-200 rounded-xl text-sm bg-white shadow-sm hover:border-blue-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200">
                                    <option value="">Todos os Mec√¢nicos</option>
                                </select>
                                <i
                                    class="fas fa-user-cog absolute top-10 sm:top-11 right-3 sm:right-4 text-blue-400 pointer-events-none"></i>
                            </div>
                            <div class="relative">
                                <label class="block text-sm font-medium text-gray-600 mb-2">Status</label>
                                <select id="filtroStatusAdmin" onchange="carregarTodasOSMecanicos()"
                                    class="w-full p-3 sm:p-4 border-2 border-blue-200 rounded-xl text-sm bg-white shadow-sm hover:border-blue-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200">
                                    <option value="">Todos os Status</option>
                                    <option value="pendente">Pendente</option>
                                    <option value="andamento">Em Andamento</option>
                                    <option value="concluida">Conclu√≠da</option>
                                    <option value="cancelada">Cancelada</option>
                                </select>
                                <i
                                    class="fas fa-tasks absolute top-10 sm:top-11 right-3 sm:right-4 text-blue-400 pointer-events-none"></i>
                            </div>
                            <div class="relative">
                                <label class="block text-sm font-medium text-gray-600 mb-2">Busca Geral</label>
                                <input type="text" id="filtroBuscaAdmin" onkeyup="carregarTodasOSMecanicos()"
                                    placeholder="Buscar OS, equipamento, setor..."
                                    class="w-full p-3 sm:p-4 border-2 border-blue-200 rounded-xl text-sm bg-white shadow-sm hover:border-blue-300 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 transition-all duration-200 pl-10 sm:pl-12">
                                <i class="fas fa-search absolute top-10 sm:top-11 left-3 sm:left-4 text-blue-400"></i>
                            </div>
                        </div>
                    </div>

                    <!-- Estat√≠sticas por Mec√¢nico com design melhorado -->
                    <div class="mb-6 sm:mb-8">
                        <div
                            class="bg-gradient-to-r from-[#0a1f44] via-[#1e3a8a] to-[#2563eb] rounded-xl p-4 sm:p-6 text-white shadow-xl mb-4 relative overflow-hidden gpu-accelerated">
                            <!-- Efeitos decorativos -->
                            <div
                                class="absolute top-0 right-0 w-16 h-16 sm:w-20 sm:h-20 bg-white opacity-10 rounded-full transform translate-x-2 sm:translate-x-4 -translate-y-2 sm:-translate-y-4">
                            </div>
                            <div
                                class="absolute bottom-0 left-0 w-12 h-12 sm:w-16 sm:h-16 bg-white opacity-10 rounded-full transform -translate-x-1 sm:-translate-x-2 translate-y-1 sm:translate-y-2">
                            </div>

                            <div class="relative z-10">
                                <h3 class="text-lg sm:text-xl font-bold flex items-center">
                                    <div class="bg-white bg-opacity-20 p-2 rounded-lg mr-3">
                                        <i class="fas fa-chart-bar text-white"></i>
                                    </div>
                                    Estat√≠sticas por Mec√¢nico
                                </h3>
                                <p class="text-blue-100 text-sm mt-2">Acompanhe o desempenho e produtividade de cada
                                    mec√¢nico</p>
                            </div>
                        </div>
                        <div class="bg-white rounded-xl p-4 sm:p-6 shadow-xl border border-blue-100 gpu-accelerated">
                            <div id="estatisticasMecanicos"
                                class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4 sm:gap-6">
                            </div>
                        </div>
                    </div>

                    <!-- Lista de todas as OS com header melhorado -->
                    <div class="bg-white rounded-xl shadow-xl border border-blue-100 overflow-hidden gpu-accelerated">
                        <!-- Cabe√ßalho -->
                        <div
                            class="bg-gradient-to-r from-[#0a1f44] via-[#1e3a8a] to-[#2563eb] p-4 sm:p-6 text-white relative overflow-hidden">
                            <!-- Efeitos decorativos -->
                            <div
                                class="absolute top-0 right-0 w-20 h-20 sm:w-24 sm:h-24 bg-white opacity-5 rounded-full transform translate-x-3 sm:translate-x-6 -translate-y-3 sm:-translate-y-6">
                            </div>
                            <div
                                class="absolute bottom-0 left-0 w-16 h-16 sm:w-20 sm:h-20 bg-white opacity-5 rounded-full transform -translate-x-2 sm:-translate-x-4 translate-y-2 sm:translate-y-4">
                            </div>

                            <div
                                class="relative z-10 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4">
                                <div class="flex-1">
                                    <h3 class="text-lg sm:text-xl font-bold flex items-center">
                                        <div class="bg-white bg-opacity-20 p-2 rounded-lg mr-3">
                                            <i class="fas fa-list-alt text-white"></i>
                                        </div>
                                        Todas as Ordens de Servi√ßo
                                    </h3>
                                    <p class="text-blue-100 text-sm mt-2">
                                        Lista completa e detalhada de todas as OS dos mec√¢nicos
                                    </p>
                                </div>

                                <!-- Contador -->
                                <div class="bg-white bg-opacity-20 px-3 sm:px-4 py-2 rounded-lg flex-shrink-0">
                                    <span id="contadorOSMecanicos" class="text-white font-semibold text-sm"> OS</span>
                                </div>
                            </div>
                        </div>

                        <!-- Lista com rolagem -->
                        <div class="p-4 sm:p-6 bg-gradient-to-br from-gray-50 to-blue-50">
                            <div id="todasOSMecanicos"
                                class="space-y-3 sm:space-y-4 max-h-[65vh] overflow-y-auto pr-2 custom-scrollbar">
                                <!-- OS ser√£o renderizadas aqui -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="notas" class="tab-content hidden max-w-4xl mx-auto p-4 space-y-4">
                <!-- Header Elegante -->
                <div
                    class="bg-gradient-to-r from-[#0a1f44] via-[#1e3a8a] to-[#2563eb] rounded-2xl p-5 text-white shadow-xl">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center">
                            <div class="bg-white bg-opacity-20 p-3 rounded-xl mr-4">
                                <i class="fas fa-sticky-note text-xl"></i>
                            </div>
                            <div>
                                <h2 class="text-xl font-bold">Sistema de Notas</h2>
                                <p class="text-sm text-blue-200">Gerencie suas anota√ß√µes</p>
                            </div>
                        </div>
                        <div class="flex space-x-4">
                            <div class="text-center bg-white bg-opacity-20 rounded-xl px-4 py-3 backdrop-blur-sm">
                                <div class="text-2xl font-bold" id="totalNotas">0</div>
                                <div class="text-xs opacity-90">Total</div>
                            </div>
                            <div class="text-center bg-white bg-opacity-20 rounded-xl px-4 py-3 backdrop-blur-sm">
                                <div class="text-2xl font-bold" id="totalTrabalhos">0</div>
                                <div class="text-xs opacity-90">Extras</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <!-- Card do Formul√°rio com Gradiente -->
                    <div class="bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-100">
                        <div class="bg-gradient-to-r from-blue-600 via-blue-700 to-indigo-700 p-5 text-white">
                            <div class="flex items-center">
                                <div class="bg-white bg-opacity-20 p-2 rounded-lg mr-3">
                                    <i class="fas fa-plus text-lg"></i>
                                </div>
                                <div>
                                    <h3 class="font-bold text-lg">Nova Nota</h3>
                                    <p class="text-xs text-blue-100">Crie uma nova anota√ß√£o</p>
                                </div>
                            </div>
                        </div>

                        <form id="formNota" class="p-5 space-y-4">
                            <!-- Categoria e Prioridade -->
                            <div class="grid grid-cols-2 gap-3">
                                <div>
                                    <label class="block text-xs font-bold text-gray-700 mb-2">Categoria</label>
                                    <select id="notaCategoria" required
                                        class="w-full p-3 border-2 border-gray-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-gray-50 font-medium">
                                        <option value="">Selecione</option>
                                        <option value="manutencao">üîß Manuten√ß√£o</option>
                                        <option value="trabalho">üíº Trabalho Extra</option>
                                        <option value="lembrete">üìù Lembrete</option>
                                        <option value="urgente">üö® Urgente</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-xs font-bold text-gray-700 mb-2">Prioridade</label>
                                    <select id="notaPrioridade" required
                                        class="w-full p-3 border-2 border-gray-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-gray-50 font-medium">
                                        <option value="baixa">üü¢ Baixa</option>
                                        <option value="media" selected>üü° M√©dia</option>
                                        <option value="alta">üî¥ Alta</option>
                                        <option value="urgente">Urgente üö®</option>

                                    </select>
                                </div>
                            </div>

                            <!-- Local e Equipamento -->
                            <div class="grid grid-cols-2 gap-3">
                                <div>
                                    <label class="block text-xs font-bold text-gray-700 mb-2">Local</label>
                                    <input type="text" id="notaLocal"
                                        class="w-full p-3 border-2 border-gray-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-gray-50 font-medium"
                                        placeholder="Setor..">
                                </div>
                                <div>
                                    <label class="block text-xs font-bold text-gray-700 mb-2">Equipamento</label>
                                    <input type="text" id="notaEquipamento"
                                        class="w-full p-3 border-2 border-gray-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-gray-50 font-medium"
                                        placeholder="M√°quina X">
                                </div>
                            </div>

                            <!-- Tempo Estimado Compacto -->
                            <div>
                                <label class="block text-xs font-bold text-gray-700 mb-2">Tempo Estimado</label>
                                <div class="flex space-x-2">
                                    <div class="flex items-center space-x-1 flex-1">
                                        <input type="number" id="notaTempoHoras" min="0" max="23"
                                            class="w-16 p-2 border-2 border-gray-200 rounded-lg text-sm text-center focus:ring-2 focus:ring-blue-500 bg-gray-50 font-bold"
                                            placeholder="0">
                                        <span class="text-xs font-bold text-gray-600">h</span>
                                        <input type="number" id="notaTempoMinutos" min="0" max="59" step="15"
                                            class="w-16 p-2 border-2 border-gray-200 rounded-lg text-sm text-center focus:ring-2 focus:ring-blue-500 bg-gray-50 font-bold"
                                            placeholder="0">
                                        <span class="text-xs font-bold text-gray-600">min</span>
                                    </div>
                                    <select id="notaTempoRapido"
                                        class="flex-1 p-2 border-2 border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 bg-gray-50 font-medium">
                                        <option value="">R√°pido</option>
                                        <option value="15min">15min</option>
                                        <option value="30min">30min</option>
                                        <option value="1h">1h</option>
                                        <option value="2h">2h</option>
                                        <option value="4h">4h</option>
                                        <option value="8h">1 dia</option>
                                    </select>
                                </div>
                            </div>

                            <!-- Descri√ß√£o -->
                            <div>
                                <label class="block text-xs font-bold text-gray-700 mb-2">Descri√ß√£o</label>
                                <textarea id="notaTexto" required rows="4"
                                    class="w-full p-3 border-2 border-gray-200 rounded-xl text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none bg-gray-50 font-medium"
                                    placeholder="Descreva sua anota√ß√£o detalhadamente..."></textarea>
                            </div>

                            <button type="submit"
                                class="w-full bg-gradient-to-r from-blue-600 via-blue-700 to-indigo-700 hover:from-blue-700 hover:via-blue-800 hover:to-indigo-800 text-white py-3 rounded-xl font-bold text-sm transition-all transform hover:scale-105 shadow-lg">
                                <i class="fas fa-save mr-2"></i>Salvar Nota
                            </button>
                        </form>
                    </div>

                    <!-- Card de Filtros Elegante -->
                    <div class="bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-100">
                        <div class="bg-gradient-to-r from-green-600 via-green-700 to-emerald-700 p-5 text-white">
                            <div class="flex items-center">
                                <div class="bg-white bg-opacity-20 p-2 rounded-lg mr-3">
                                    <i class="fas fa-filter text-lg"></i>
                                </div>
                                <div>
                                    <h3 class="font-bold text-lg">Filtros</h3>
                                    <p class="text-xs text-green-100">Encontre suas notas</p>
                                </div>
                            </div>
                        </div>

                        <div class="p-5 space-y-4">
                            <!-- Busca -->
                            <div class="relative">
                                <input type="text" id="buscaNotas" placeholder="Buscar notas..."
                                    class="w-full pl-12 pr-4 py-3 border-2 border-gray-200 rounded-xl text-sm focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-gray-50 font-medium">
                                <i
                                    class="fas fa-search absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                            </div>

                            <!-- Filtros -->
                            <div class="space-y-3">
                                <div>
                                    <label class="block text-xs font-bold text-gray-700 mb-2">Categoria</label>
                                    <select id="filtroCategoria"
                                        class="w-full p-3 border-2 border-gray-200 rounded-xl text-sm focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-gray-50 font-medium">
                                        <option value="">Todas</option>
                                        <option value="manutencao">üîß Manuten√ß√£o</option>
                                        <option value="trabalho">üíº Trabalho Extra</option>
                                        <option value="lembrete">üìù Lembrete</option>
                                        <option value="urgente">üö® Urgente</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-xs font-bold text-gray-700 mb-2">Prioridade</label>
                                    <select id="filtroPrioridade"
                                        class="w-full p-3 border-2 border-gray-200 rounded-xl text-sm focus:ring-2 focus:ring-green-500 focus:border-green-500 bg-gray-50 font-medium">
                                        <option value="">Todas</option>
                                        <option value="alta">üî¥ Alta</option>
                                        <option value="media">üü° M√©dia</option>
                                        <option value="baixa">üü¢ Baixa</option>
                                    </select>
                                </div>
                            </div>

                            <!-- Estat√≠sticas R√°pidas -->
                            <div class="bg-gradient-to-r from-gray-50 to-green-50 rounded-xl p-4 mt-6">
                                <h4 class="text-sm font-bold text-gray-700 mb-3">Estat√≠sticas</h4>
                                <div class="grid grid-cols-2 gap-3 text-center">
                                    <div class="bg-white rounded-lg p-3 shadow-sm">
                                        <div class="text-lg font-bold text-blue-600" id="notasHoje">0</div>
                                        <div class="text-xs text-gray-600">Hoje</div>
                                    </div>
                                    <div class="bg-white rounded-lg p-3 shadow-sm">
                                        <div class="text-lg font-bold text-red-600" id="notasUrgentes">0</div>
                                        <div class="text-xs text-gray-600">Urgentes</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Lista de Notas Compacta -->
                <div class="bg-white rounded-2xl shadow-xl overflow-hidden border border-gray-100">
                    <div class="bg-gradient-to-br from-cyan-500 to-cyan-700 p-4 text-white">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center">
                                <div class="bg-white bg-opacity-20 p-2 rounded-lg mr-3">
                                    <i class="fas fa-list text-lg"></i>
                                </div>
                                <h3 class="font-bold text-lg">Minhas Notas</h3>
                            </div>
                            <div class="text-sm bg-white bg-opacity-20 px-3 py-1 rounded-full">
                                <span id="contadorFiltrado">0</span> notas
                            </div>
                        </div>
                    </div>

                    <div class="p-4">
                        <div id="listaNotas" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                            <!-- Notas aparecer√£o aqui -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Toast Container -->
            <div id="toastContainer" class="fixed top-4 right-4 z-50 space-y-2 max-w-sm"></div>



            <!-- Configura√ß√µes -->
            <div id="config" class="tab-content">
                <div class="max-w-7xl mx-auto p-4 space-y-8">

                    <!-- Primeira Linha: Perfil + Senha -->
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">

                        <!-- Configura√ß√µes Pessoais -->
                        <div class="card-pessoal professional-card">
                            <div class="card-inner">
                                <div class="p-6">
                                    <!-- Header -->
                                    <div class="flex items-center gap-4 mb-6 pb-4 border-b border-gray-200">
                                        <div
                                            class="bg-gradient-to-br from-blue-500 to-blue-700 p-3 rounded-xl shadow-lg">
                                            <i class="fas fa-user-cog text-xl text-white"></i>
                                        </div>
                                        <div>
                                            <h3 class="professional-title text-xl mb-1">Perfil</h3>
                                            <p class="professional-subtitle text-sm">Suas informa√ß√µes</p>
                                        </div>
                                    </div>

                                    <!-- Perfil Compacto -->
                                    <div class="flex items-center gap-4 mb-6">
                                        <div class="relative">
                                            <div class="w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-700 rounded-2xl flex items-center justify-center text-white text-2xl shadow-lg"
                                                id="perfilIcone">
                                                üë§
                                            </div>
                                            <div
                                                class="absolute -bottom-1 -right-1 w-5 h-5 bg-green-500 rounded-full border-2 border-white shadow-lg">
                                            </div>
                                        </div>
                                        <div class="flex-1">
                                            <h4 class="font-bold text-lg text-gray-800 mb-1" id="perfilNome"></h4>
                                            <p class="text-blue-600 font-medium text-sm mb-1" id="perfilTipo"></p>
                                            <p class="text-gray-500 text-xs" id="perfilLogin"></p>
                                        </div>
                                    </div>

                                    <!-- A√ß√µes -->
                                    <div class="space-y-3">
                                        <button onclick="editarMeuPerfil()"
                                            class="professional-button w-full bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white px-4 py-2 rounded-lg shadow-lg flex items-center justify-center gap-2">
                                            <i class="fas fa-user-edit text-sm"></i>
                                            <span>Editar Perfil</span>
                                        </button>

                                        <!-- Estat√≠sticas Compactas -->
                                        <div class="bg-blue-50 p-4 rounded-lg border border-blue-200">
                                            <h5 class="font-semibold text-gray-800 text-sm mb-3">Estat√≠sticas</h5>
                                            <div class="grid grid-cols-2 gap-3 text-center" id="minhasEstatisticas">
                                                <!-- Ser√° preenchido dinamicamente -->
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Senha do Admin -->
                        <div class="card-senha professional-card" id="senhaAdminSection">
                            <div class="card-inner">
                                <div class="p-6">
                                    <!-- Header -->
                                    <div class="flex items-center gap-4 mb-6 pb-4 border-b border-gray-200">
                                        <div class="bg-gradient-to-br from-red-500 to-red-700 p-3 rounded-xl shadow-lg">
                                            <i class="fas fa-key text-xl text-white"></i>
                                        </div>
                                        <div>
                                            <h3 class="professional-title text-xl mb-1">Seguran√ßa</h3>
                                            <p class="professional-subtitle text-sm">Alterar senha</p>
                                        </div>
                                    </div>

                                    <!-- Formul√°rio Compacto -->
                                    <form id="alterarSenhaForm" class="space-y-4">
                                        <div>
                                            <label class="block text-gray-700 font-medium mb-2 text-sm">Senha
                                                Atual</label>
                                            <input type="password" id="senhaAtual" required
                                                class="professional-input w-full p-3 rounded-lg text-sm">
                                        </div>
                                        <div>
                                            <label class="block text-gray-700 font-medium mb-2 text-sm">Nova
                                                Senha</label>
                                            <input type="password" id="novaSenha" required
                                                class="professional-input w-full p-3 rounded-lg text-sm">
                                        </div>
                                        <div>
                                            <label
                                                class="block text-gray-700 font-medium mb-2 text-sm">Confirmar</label>
                                            <input type="password" id="confirmarSenha" required
                                                class="professional-input w-full p-3 rounded-lg text-sm">
                                        </div>
                                        <button type="submit"
                                            class="professional-button w-full bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white px-4 py-3 rounded-lg shadow-lg flex items-center justify-center gap-2">
                                            <i class="fas fa-key text-sm"></i>
                                            <span>Alterar Senha</span>
                                        </button>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Segunda Linha: Usu√°rios + T√©cnicos -->
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6" id="managementSection">

                        <!-- Usu√°rios -->
                        <div class="card-usuarios professional-card" id="usuariosSection">
                            <div class="card-inner">
                                <div class="p-6">
                                    <!-- Header -->
                                    <div class="flex items-center justify-between mb-6 pb-4 border-b border-gray-200">
                                        <div class="flex items-center gap-4">
                                            <div
                                                class="bg-gradient-to-br from-cyan-500 to-cyan-700 p-3 rounded-xl shadow-lg">
                                                <i class="fas fa-users text-xl text-white"></i>
                                            </div>
                                            <div>
                                                <h3 class="professional-title text-xl mb-1">Usu√°rios</h3>
                                                <p class="professional-subtitle text-sm">Gerenciar acesso</p>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Bot√µes de A√ß√£o -->
                                    <div class="grid grid-cols-2 gap-3 mb-6">
                                        <button onclick="abrirModalUsuario()"
                                            class="professional-button bg-gradient-to-r from-cyan-500 to-cyan-600 hover:from-cyan-600 hover:to-cyan-700 text-white px-4 py-2 rounded-lg shadow-lg flex items-center justify-center gap-2">
                                            <i class="fas fa-plus text-sm"></i>
                                            <span class="text-sm">Usu√°rio</span>
                                        </button>
                                        <button onclick="abrirModalAdmin()"
                                            class="professional-button bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white px-4 py-2 rounded-lg shadow-lg flex items-center justify-center gap-2">
                                            <i class="fas fa-crown text-sm"></i>
                                            <span class="text-sm">Admin</span>
                                        </button>
                                    </div>

                                    <!-- Lista com Scroll -->
                                    <div class="custom-scrollbar scrollable-content">
                                        <div id="listaUsuarios" class="space-y-3">
                                            <!-- Lista ser√° preenchida dinamicamente -->
                                        </div>

                                        <!-- Solicita√ß√µes -->
                                        <div id="solicitacoesSenhaSection" class="mt-6 pt-4 border-t border-gray-200">
                                            <h4 class="font-semibold text-gray-800 mb-3 text-sm flex items-center">
                                                <i class="fas fa-envelope mr-2 text-cyan-500"></i>
                                                Solicita√ß√µes
                                            </h4>
                                            <div id="listaSolicitacoesSenha" class="space-y-2">
                                                <!-- Lista ser√° preenchida dinamicamente -->
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- T√©cnicos -->
                        <div class="card-tecnicos professional-card" id="tecnicosSection">
                            <div class="card-inner">
                                <div class="p-6">
                                    <!-- Header -->
                                    <div class="flex items-center justify-between mb-6 pb-4 border-b border-gray-200">
                                        <div class="flex items-center gap-4">
                                            <div
                                                class="bg-gradient-to-br from-green-500 to-green-700 p-3 rounded-xl shadow-lg">
                                                <i class="fas fa-tools text-xl text-white"></i>
                                            </div>
                                            <div>
                                                <h3 class="professional-title text-xl mb-1">T√©cnicos</h3>
                                                <p class="professional-subtitle text-sm">Equipe especializada</p>
                                            </div>
                                        </div>
                                        <button onclick="abrirModalTecnico()"
                                            class="professional-button bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white px-4 py-2 rounded-lg shadow-lg flex items-center gap-2">
                                            <i class="fas fa-plus text-sm"></i>
                                            <span class="text-sm">Novo</span>
                                        </button>
                                    </div>

                                    <!-- Lista com Scroll -->
                                    <div class="custom-scrollbar scrollable-content">
                                        <div id="listaTecnicos" class="space-y-3">
                                            <!-- Lista ser√° preenchida dinamicamente -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Terceira Linha: Banco de Dados (Largura Total) -->
                    <div class="card-backup professional-card" id="backupSection">
                        <div class="card-inner">
                            <div class="p-6">

                                <!-- Header Principal -->
                                <div class="flex items-center gap-4 mb-8 pb-6 border-b border-gray-200">
                                    <div
                                        class="bg-gradient-to-br from-purple-500 to-purple-700 p-4 rounded-xl shadow-lg">
                                        <i class="fas fa-database text-2xl text-white"></i>
                                    </div>
                                    <div>
                                        <h3 class="professional-title text-2xl mb-1">Banco de Dados</h3>
                                        <p class="professional-subtitle text-lg">Sincroniza√ß√£o e backup</p>
                                    </div>
                                </div>

                                <!-- Grid de Se√ß√µes -->
                                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">

                                    <!-- Coluna 1: Nuvem -->
                                    <div class="space-y-6">
                                        <div class="bg-purple-50 p-6 rounded-xl border border-purple-200">
                                            <h4 class="font-bold text-gray-800 text-lg mb-4 flex items-center">
                                                <i class="fas fa-cloud mr-3 text-purple-500"></i>
                                                Sincroniza√ß√£o
                                            </h4>

                                            <!-- Status -->
                                            <div
                                                class="flex items-center justify-between mb-4 p-3 bg-white rounded-lg border">
                                                <div>
                                                    <div class="font-medium text-gray-800">Status da Conex√£o</div>
                                                    <div class="text-gray-600 text-sm" id="statusConexao">Conectado
                                                    </div>
                                                </div>
                                                <div class="w-4 h-4 bg-green-500 rounded-full shadow-lg"></div>
                                            </div>

                                            <!-- URL Config -->
                                            <div class="mb-4">
                                                <label class="block text-gray-700 font-medium mb-2 text-sm">URL
                                                    Firebase</label>
                                                <div class="flex gap-2">
                                                    <input type="url" id="urlBanco"
                                                        value="https://sistema-os-default-rtdb.firebaseio.com/"
                                                        class="professional-input flex-1 p-3 rounded-lg text-sm">
                                                    <button onclick="testarConexao()"
                                                        class="professional-button bg-indigo-500 hover:bg-indigo-600 text-white px-4 py-3 rounded-lg shadow-lg">
                                                        <i class="fas fa-plug text-sm"></i>
                                                    </button>
                                                </div>
                                            </div>

                                            <!-- A√ß√µes de Sync -->
                                            <div class="space-y-3">
                                                <button onclick="sincronizarManual()"
                                                    class="professional-button w-full bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white px-4 py-3 rounded-lg shadow-lg flex items-center justify-center gap-2">
                                                    <i class="fas fa-sync text-sm"></i>
                                                    <span>Sincronizar</span>
                                                </button>

                                                <div class="grid grid-cols-2 gap-3">
                                                    <button onclick="forcarUpload()"
                                                        class="professional-button bg-orange-500 hover:bg-orange-600 text-white px-3 py-2 rounded-lg shadow-lg flex items-center justify-center gap-2">
                                                        <i class="fas fa-cloud-upload-alt text-sm"></i>
                                                        <span class="text-sm">Upload</span>
                                                    </button>
                                                    <button onclick="forcarDownload()"
                                                        class="professional-button bg-blue-500 hover:bg-blue-600 text-white px-3 py-2 rounded-lg shadow-lg flex items-center justify-center gap-2">
                                                        <i class="fas fa-cloud-download-alt text-sm"></i>
                                                        <span class="text-sm">Download</span>
                                                    </button>
                                                </div>
                                            </div>

                                            <!-- Info Sync -->
                                            <div class="mt-4 p-3 bg-white rounded-lg border">
                                                <div class="grid grid-cols-3 gap-4 text-center">
                                                    <div>
                                                        <div class="text-gray-600 text-xs mb-1">√öltima sync</div>
                                                        <div class="font-bold text-gray-800 text-sm">Agora</div>
                                                    </div>
                                                    <div>
                                                        <div class="text-gray-600 text-xs mb-1">Na fila</div>
                                                        <div class="font-bold text-gray-800 text-sm">0</div>
                                                    </div>
                                                    <div>
                                                        <div class="text-gray-600 text-xs mb-1">Modo</div>
                                                        <div class="font-bold text-gray-800 text-sm">Online</div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- Coluna 2: Backup -->
                                    <div class="space-y-6">
                                        <div class="bg-indigo-50 p-6 rounded-xl border border-indigo-200">
                                            <h4 class="font-bold text-gray-800 text-lg mb-4 flex items-center">
                                                <i class="fas fa-save mr-3 text-indigo-500"></i>
                                                Backup Local
                                            </h4>

                                            <!-- A√ß√µes de Backup -->
                                            <div class="space-y-4">
                                                <button onclick="exportarDados()"
                                                    class="professional-button w-full bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white px-4 py-3 rounded-lg shadow-lg flex items-center justify-center gap-2">
                                                    <i class="fas fa-download text-sm"></i>
                                                    <span>Exportar Dados</span>
                                                </button>

                                                <div class="space-y-2">
                                                    <input type="file" id="importFile" accept=".json"
                                                        class="professional-input w-full p-3 rounded-lg text-sm file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:bg-orange-50 file:text-orange-700 file:font-semibold">
                                                    <button onclick="importarDados()"
                                                        class="professional-button w-full bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white px-4 py-3 rounded-lg shadow-lg flex items-center justify-center gap-2">
                                                        <i class="fas fa-upload text-sm"></i>
                                                        <span>Importar Dados</span>
                                                    </button>
                                                    <button onclick="arquivarMes()"
                                                        class="w-full bg-gradient-to-br from-cyan-500 to-cyan-700 text-white px-4 py-2 rounded-lg shadow-md font-medium transition-all duration-200">
                                                        <i class="fas fa-archive mr-2"></i> Arquivar M√™s
                                                    </button>

                                                </div>
                                            </div>
                                        </div>

                                        <!-- Zona de Perigo -->
                                        <div class="bg-red-50 p-6 rounded-xl border-2 border-red-200">
                                            <div class="text-center mb-4">
                                                <h4
                                                    class="text-red-600 font-bold text-lg mb-2 flex items-center justify-center">
                                                    <i class="fas fa-exclamation-triangle mr-2"></i>
                                                    Zona de Perigo
                                                </h4>
                                                <p class="text-red-500 font-medium text-sm">A√ß√£o irrevers√≠vel</p>
                                            </div>
                                            <button onclick="limparTodos()"
                                                class="professional-button w-full bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white px-4 py-3 rounded-lg shadow-lg border-2 border-red-400 flex items-center justify-center gap-2">
                                                <i class="fas fa-trash text-sm"></i>
                                                <span>Limpar Todos os Dados</span>
                                            </button>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- √öltima Entrada dos Usu√°rios (s√≥ ADM) -->
                    <div class="card-ultimas professional-card hidden" id="ultimaEntradaSection">
                        <div class="card-inner">
                            <div class="p-6">
                                <!-- Header -->
                                <div class="flex items-center justify-between mb-6 pb-4 border-b border-gray-200">
                                    <div class="flex items-center gap-4">
                                        <div
                                            class="bg-gradient-to-br from-yellow-400 to-yellow-600 p-3 rounded-xl shadow-lg">
                                            <i class="fas fa-clock text-xl text-white"></i>
                                        </div>
                                        <div>
                                            <h3 class="professional-title text-xl mb-1">√öltima Entrada</h3>
                                            <p class="professional-subtitle text-sm">Hist√≥rico de login de usu√°rios</p>
                                        </div>
                                    </div>
                                </div>

                                <!-- Lista com Scroll -->
                                <div class="custom-scrollbar scrollable-content">
                                    <table
                                        class="w-full text-sm text-center border border-yellow-300 rounded-lg overflow-hidden">
                                        <thead class="bg-yellow-50 text-yellow-700">
                                            <tr>
                                                <th class="py-3 px-2 font-semibold">ID</th>
                                                <th class="py-3 px-2 font-semibold">Usu√°rio</th>
                                                <th class="py-3 px-2 font-semibold">Nome</th>
                                                <th class="py-3 px-2 font-semibold">Tipo</th>
                                                <th class="py-3 px-2 font-semibold">√öltima Entrada</th>
                                            </tr>
                                        </thead>
                                        <tbody id="tabelaUltimaEntrada" class="divide-y divide-yellow-100">
                                            <!-- Preenchido dinamicamente -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>




            </div>













            <!-- Modal para Novo Usu√°rio -->
            <div id="modalUsuario" class="fixed inset-0 bg-black bg-opacity-50 modal-overlay hidden z-50 p-4">
                <div class="bg-white rounded-xl max-w-md mx-auto mt-8">
                    <div class="p-6">
                        <div class="flex justify-between items-center mb-4">
                            <h3 class="text-lg font-bold">Novo Usu√°rio</h3>
                            <button onclick="fecharModalUsuario()" class="text-gray-500 hover:text-gray-700 p-2">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                        <form id="usuarioForm" class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Nome Completo *</label>
                                <input type="text" id="nomeUsuario" required
                                    class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Nome de Usu√°rio (Login)
                                    *</label>
                                <input type="text" id="loginUsuario" required
                                    class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Senha *</label>
                                <input type="password" id="senhaUsuario" required
                                    class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Tipo de Usu√°rio *</label>
                                <select id="tipoUsuario" required
                                    class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                                    <option value="">Selecione o tipo</option>
                                    <option value="funcionario">üë®‚Äçüíº Funcion√°rio (Cria OS)</option>
                                    <option value="mecanico">üîß Mec√¢nico (Executa OS)</option>
                                </select>
                            </div>
                            <div class="flex space-x-3">
                                <button type="submit"
                                    class="flex-1 bg-blue-600 hover:bg-blue-700 text-white px-4 py-3 rounded-lg font-medium">
                                    <i class="fas fa-save mr-2"></i>Salvar
                                </button>
                                <button type="button" onclick="fecharModalUsuario()"
                                    class="bg-gray-500 hover:bg-gray-600 text-white px-4 py-3 rounded-lg font-medium">
                                    Cancelar
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>


            <!-- Modal para Novo T√©cnico -->
            <div id="modalTecnico" class="fixed inset-0 bg-black bg-opacity-50 modal-overlay hidden z-50 p-4">
                <div class="bg-white rounded-xl max-w-md mx-auto mt-8">
                    <div class="p-6">
                        <div class="flex justify-between items-center mb-4">
                            <h3 class="text-lg font-bold">Novo T√©cnico</h3>
                            <button onclick="fecharModalTecnico()" class="text-gray-500 hover:text-gray-700 p-2">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                        <form id="tecnicoForm" class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Nome Completo *</label>
                                <input type="text" id="nomeTecnico" required
                                    class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Especialidade *</label>
                                <select id="especialidadeTecnico" required
                                    class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                                    <option value="">Selecione a especialidade</option>
                                    <option value="El√©trica">‚ö° El√©trica</option>
                                    <option value="Mec√¢nica">üîß Mec√¢nica</option>
                                    <option value="Hidr√°ulica">üíß Hidr√°ulica</option>
                                    <option value="Pneum√°tica">üí® Pneum√°tica</option>
                                </select>
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Usu√°rio Vinculado</label>
                                <select id="usuarioTecnico"
                                    class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                                    <option value="">Nenhum usu√°rio vinculado</option>
                                </select>
                                <p class="text-xs text-gray-500 mt-1">Vincule a um usu√°rio mec√¢nico para permitir login
                                </p>
                            </div>
                            <div class="flex space-x-3">
                                <button type="submit"
                                    class="flex-1 bg-blue-600 hover:bg-blue-700 text-white px-4 py-3 rounded-lg font-medium">
                                    <i class="fas fa-save mr-2"></i>Salvar
                                </button>
                                <button type="button" onclick="fecharModalTecnico()"
                                    class="bg-gray-500 hover:bg-gray-600 text-white px-4 py-3 rounded-lg font-medium">
                                    Cancelar
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>


            <!-- Modal para Novo Admin -->
            <div id="modalAdmin" class="fixed inset-0 bg-black bg-opacity-50 modal-overlay hidden z-50 p-4">
                <div class="bg-white rounded-xl max-w-md mx-auto mt-8">
                    <div class="p-6">
                        <div class="flex justify-between items-center mb-4">
                            <h3 class="text-lg font-bold text-purple-600">
                                <i class="fas fa-crown mr-2"></i>Novo Administrador
                            </h3>
                            <button onclick="fecharModalAdmin()" class="text-gray-500 hover:text-gray-700 p-2">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                        <form id="adminForm" class="space-y-4">
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Nome Completo *</label>
                                <input type="text" id="nomeAdmin" required
                                    class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Nome de Usu√°rio (Login)
                                    *</label>
                                <input type="text" id="loginAdmin" required
                                    class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500">
                            </div>
                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Senha *</label>
                                <input type="password" id="senhaAdmin" required
                                    class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-purple-500">
                            </div>
                            <div class="bg-purple-50 p-3 rounded-lg">
                                <p class="text-sm text-purple-700">
                                    <i class="fas fa-info-circle mr-1"></i>
                                    O administrador ter√° acesso total ao sistema, incluindo gerenciamento de usu√°rios e
                                    configura√ß√µes.
                                </p>
                            </div>
                            <div class="flex space-x-3">
                                <button type="submit"
                                    class="flex-1 bg-purple-600 hover:bg-purple-700 text-white px-4 py-3 rounded-lg font-medium">
                                    <i class="fas fa-crown mr-2"></i>Criar Admin
                                </button>
                                <button type="button" onclick="fecharModalAdmin()"
                                    class="bg-gray-500 hover:bg-gray-600 text-white px-4 py-3 rounded-lg font-medium">
                                    Cancelar
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>


            <!-- Modal para Relat√≥rios Personalizados -->
            <div id="modalRelatorios" class="fixed inset-0 bg-black bg-opacity-50 modal-overlay hidden z-50 p-4">
                <div class="bg-white rounded-xl max-w-4xl mx-auto mt-8 max-h-[90vh] overflow-y-auto">
                    <div class="p-6">
                        <div class="flex justify-between items-center mb-6">
                            <h3 class="text-xl font-bold text-gray-800">
                                <i class="fas fa-chart-bar mr-2 text-blue-600"></i>Relat√≥rios Personalizados
                            </h3>
                            <button onclick="fecharModalRelatorios()" class="text-gray-500 hover:text-gray-700 p-2">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>

                        <!-- Filtros do Relat√≥rio -->
                        <div class="bg-gray-50 p-4 rounded-lg mb-6">
                            <h4 class="font-semibold text-gray-700 mb-4">Filtros do Relat√≥rio</h4>
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Per√≠odo</label>
                                    <select id="relatorioPeriodo" class="w-full p-3 border border-gray-300 rounded-lg">
                                        <option value="7">√öltimos 7 dias</option>
                                        <option value="30" selected>√öltimos 30 dias</option>
                                        <option value="90">√öltimos 90 dias</option>
                                        <option value="365">√öltimo ano</option>
                                        <option value="custom">Per√≠odo personalizado</option>
                                    </select>
                                </div>
                                <div id="dataInicioDiv" class="hidden">
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Data In√≠cio</label>
                                    <input type="date" id="relatorioDataInicio"
                                        class="w-full p-3 border border-gray-300 rounded-lg">
                                </div>
                                <div id="dataFimDiv" class="hidden">
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Data Fim</label>
                                    <input type="date" id="relatorioDataFim"
                                        class="w-full p-3 border border-gray-300 rounded-lg">
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Status</label>
                                    <select id="relatorioStatus" class="w-full p-3 border border-gray-300 rounded-lg">
                                        <option value="">Todos os Status</option>
                                        <option value="pendente">Pendente</option>
                                        <option value="andamento">Em Andamento</option>
                                        <option value="concluida">Conclu√≠da</option>
                                        <option value="cancelada">Cancelada</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">Prioridade</label>
                                    <select id="relatorioPrioridade"
                                        class="w-full p-3 border border-gray-300 rounded-lg">
                                        <option value="">Todas as Prioridades</option>
                                        <option value="baixa">Baixa</option>
                                        <option value="media">M√©dia</option>
                                        <option value="alta">Alta</option>
                                        <option value="urgente">Urgente</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-sm font-medium text-gray-700 mb-2">T√©cnico</label>
                                    <select id="relatorioTecnico" class="w-full p-3 border border-gray-300 rounded-lg">
                                        <option value="">Todos os T√©cnicos</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <!-- Tipos de Relat√≥rio -->
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6">
                            <!-- Relat√≥rio Individual -->
                            <div
                                class="bg-white border-2 border-blue-200 rounded-lg p-4 hover:border-blue-400 transition-all">
                                <div class="text-center mb-4">
                                    <i class="fas fa-file-alt text-3xl text-blue-600 mb-2"></i>
                                    <h4 class="font-semibold text-gray-800">Relat√≥rio Individual</h4>
                                    <p class="text-sm text-gray-600">Gerar relat√≥rio de uma OS espec√≠fica</p>
                                </div>
                                <div class="mb-4">
                                    <select id="osIndividual"
                                        class="w-full p-2 border border-gray-300 rounded-lg text-sm">
                                        <option value="">Selecione uma OS</option>
                                    </select>
                                </div>
                                <div class="space-y-2">
                                    <button onclick="gerarRelatorioIndividual('pdf')"
                                        class="w-full bg-red-500 hover:bg-red-600 text-white px-3 py-2 rounded-lg text-sm">
                                        <i class="fas fa-file-pdf mr-2"></i>PDF
                                    </button>
                                    <button onclick="gerarRelatorioIndividual('word')"
                                        class="w-full bg-blue-500 hover:bg-blue-600 text-white px-3 py-2 rounded-lg text-sm">
                                        <i class="fas fa-file-word mr-2"></i>Word
                                    </button>
                                </div>
                            </div>

                            <!-- Relat√≥rio Geral -->
                            <div
                                class="bg-white border-2 border-green-200 rounded-lg p-4 hover:border-green-400 transition-all">
                                <div class="text-center mb-4">
                                    <i class="fas fa-chart-line text-3xl text-green-600 mb-2"></i>
                                    <h4 class="font-semibold text-gray-800">Relat√≥rio Geral</h4>
                                    <p class="text-sm text-gray-600">Relat√≥rio completo com estat√≠sticas</p>
                                </div>
                                <div class="space-y-2">
                                    <button onclick="gerarRelatorioGeral('pdf')"
                                        class="w-full bg-red-500 hover:bg-red-600 text-white px-3 py-2 rounded-lg text-sm">
                                        <i class="fas fa-file-pdf mr-2"></i>PDF
                                    </button>
                                    <button onclick="gerarRelatorioGeral('word')"
                                        class="w-full bg-blue-500 hover:bg-blue-600 text-white px-3 py-2 rounded-lg text-sm">
                                        <i class="fas fa-file-word mr-2"></i>Word
                                    </button>
                                    <button onclick="gerarRelatorioGeral('excel')"
                                        class="w-full bg-green-500 hover:bg-green-600 text-white px-3 py-2 rounded-lg text-sm">
                                        <i class="fas fa-file-excel mr-2"></i>Excel
                                    </button>
                                </div>
                            </div>

                            <!-- Relat√≥rio por T√©cnico -->
                            <div
                                class="bg-white border-2 border-purple-200 rounded-lg p-4 hover:border-purple-400 transition-all">
                                <div class="text-center mb-4">
                                    <i class="fas fa-users text-3xl text-purple-600 mb-2"></i>
                                    <h4 class="font-semibold text-gray-800">Por T√©cnico</h4>
                                    <p class="text-sm text-gray-600">Relat√≥rio de desempenho dos t√©cnicos</p>
                                </div>
                                <div class="space-y-2">
                                    <button onclick="gerarRelatorioTecnicos('pdf')"
                                        class="w-full bg-red-500 hover:bg-red-600 text-white px-3 py-2 rounded-lg text-sm">
                                        <i class="fas fa-file-pdf mr-2"></i>PDF
                                    </button>
                                    <button onclick="gerarRelatorioTecnicos('word')"
                                        class="w-full bg-blue-500 hover:bg-blue-600 text-white px-3 py-2 rounded-lg text-sm">
                                        <i class="fas fa-file-word mr-2"></i>Word
                                    </button>
                                    <button onclick="gerarRelatorioTecnicos('excel')"
                                        class="w-full bg-green-500 hover:bg-green-600 text-white px-3 py-2 rounded-lg text-sm">
                                        <i class="fas fa-file-excel mr-2"></i>Excel
                                    </button>
                                </div>
                            </div>

                            <!-- Relat√≥rio por Setor -->
                            <div
                                class="bg-white border-2 border-orange-200 rounded-lg p-4 hover:border-orange-400 transition-all">
                                <div class="text-center mb-4">
                                    <i class="fas fa-building text-3xl text-orange-600 mb-2"></i>
                                    <h4 class="font-semibold text-gray-800">Por Setor</h4>
                                    <p class="text-sm text-gray-600">Relat√≥rio por departamento</p>
                                </div>
                                <div class="space-y-2">
                                    <button onclick="gerarRelatorioSetor('pdf')"
                                        class="w-full bg-red-500 hover:bg-red-600 text-white px-3 py-2 rounded-lg text-sm">
                                        <i class="fas fa-file-pdf mr-2"></i>PDF
                                    </button>
                                    <button onclick="gerarRelatorioSetor('word')"
                                        class="w-full bg-blue-500 hover:bg-blue-600 text-white px-3 py-2 rounded-lg text-sm">
                                        <i class="fas fa-file-word mr-2"></i>Word
                                    </button>
                                    <button onclick="gerarRelatorioSetor('excel')"
                                        class="w-full bg-green-500 hover:bg-green-600 text-white px-3 py-2 rounded-lg text-sm">
                                        <i class="fas fa-file-excel mr-2"></i>Excel
                                    </button>
                                </div>
                            </div>

                            <!-- Relat√≥rio de Equipamentos -->
                            <div
                                class="bg-white border-2 border-teal-200 rounded-lg p-4 hover:border-teal-400 transition-all">
                                <div class="text-center mb-4">
                                    <i class="fas fa-cogs text-3xl text-teal-600 mb-2"></i>
                                    <h4 class="font-semibold text-gray-800">Equipamentos</h4>
                                    <p class="text-sm text-gray-600">Relat√≥rio de manuten√ß√£o por equipamento</p>
                                </div>
                                <div class="space-y-2">
                                    <button onclick="gerarRelatorioEquipamentos('pdf')"
                                        class="w-full bg-red-500 hover:bg-red-600 text-white px-3 py-2 rounded-lg text-sm">
                                        <i class="fas fa-file-pdf mr-2"></i>PDF
                                    </button>
                                    <button onclick="gerarRelatorioEquipamentos('word')"
                                        class="w-full bg-blue-500 hover:bg-blue-600 text-white px-3 py-2 rounded-lg text-sm">
                                        <i class="fas fa-file-word mr-2"></i>Word
                                    </button>
                                    <button onclick="gerarRelatorioEquipamentos('excel')"
                                        class="w-full bg-green-500 hover:bg-green-600 text-white px-3 py-2 rounded-lg text-sm">
                                        <i class="fas fa-file-excel mr-2"></i>Excel
                                    </button>
                                </div>
                            </div>

                            <!-- Relat√≥rio Personalizado -->
                            <div
                                class="bg-white border-2 border-gray-200 rounded-lg p-4 hover:border-gray-400 transition-all">
                                <div class="text-center mb-4">
                                    <i class="fas fa-sliders-h text-3xl text-gray-600 mb-2"></i>
                                    <h4 class="font-semibold text-gray-800">Personalizado</h4>
                                    <p class="text-sm text-gray-600">Relat√≥rio com filtros aplicados</p>
                                </div>
                                <div class="space-y-2">
                                    <button onclick="gerarRelatorioPersonalizado('pdf')"
                                        class="w-full bg-red-500 hover:bg-red-600 text-white px-3 py-2 rounded-lg text-sm">
                                        <i class="fas fa-file-pdf mr-2"></i>PDF
                                    </button>
                                    <button onclick="gerarRelatorioPersonalizado('word')"
                                        class="w-full bg-blue-500 hover:bg-blue-600 text-white px-3 py-2 rounded-lg text-sm">
                                        <i class="fas fa-file-word mr-2"></i>Word
                                    </button>
                                    <button onclick="gerarRelatorioPersonalizado('excel')"
                                        class="w-full bg-green-500 hover:bg-green-600 text-white px-3 py-2 rounded-lg text-sm">
                                        <i class="fas fa-file-excel mr-2"></i>Excel
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>


            <!-- Modal para detalhes da OS -->
            <div id="modalOS" class="fixed inset-0 bg-black bg-opacity-50 modal-overlay hidden z-50 p-4">
                <div class="bg-white rounded-xl max-w-lg mx-auto mt-8 max-h-[90vh] overflow-y-auto">
                    <div class="p-4">
                        <div class="flex justify-between items-center mb-4">
                            <h3 class="text-lg font-bold">Detalhes da OS</h3>
                            <button onclick="fecharModal()" class="text-gray-500 hover:text-gray-700 p-2">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                        <div id="detalhesOS"></div>
                    </div>
                </div>
            </div>


            <!-- Modal para Editar Perfil -->
            <div id="modalEditarPerfil" class="fixed inset-0 bg-black bg-opacity-50 modal-overlay hidden z-50 p-4">
                <div class="bg-white rounded-xl max-w-md mx-auto mt-8">
                    <div class="p-6">
                        <div class="flex justify-between items-center mb-4">
                            <h3 class="text-lg font-bold text-green-600">
                                <i class="fas fa-user-edit mr-2"></i>Editar Meu Perfil
                            </h3>
                            <button onclick="fecharModalEditarPerfil()" class="text-gray-500 hover:text-gray-700 p-2">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                        <form id="editarPerfilForm" class="space-y-4">
                            <!-- Foto de Perfil -->
                            <div class="text-center">
                                <div class="relative inline-block">
                                    <div id="previewFotoPerfil"
                                        class="w-24 h-24 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center text-white text-3xl mx-auto mb-4 cursor-pointer hover:opacity-80 transition-opacity"
                                        onclick="document.getElementById('inputFotoPerfil').click()">
                                        üë§
                                    </div>
                                    <button type="button" onclick="document.getElementById('inputFotoPerfil').click()"
                                        class="absolute bottom-0 right-0 bg-green-500 hover:bg-green-600 text-white rounded-full w-8 h-8 flex items-center justify-center text-sm">
                                        <i class="fas fa-camera"></i>
                                    </button>
                                </div>
                                <input type="file" id="inputFotoPerfil" accept="image/*" class="hidden"
                                    onchange="previewFoto(this)">
                                <p class="text-xs text-gray-500">Clique para alterar a foto</p>
                                <button type="button" onclick="removerFotoPerfil()"
                                    class="text-xs text-red-500 hover:text-red-700 mt-1">
                                    <i class="fas fa-trash mr-1"></i>Remover foto
                                </button>
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Nome Completo *</label>
                                <input type="text" id="editarNomePerfil" required
                                    class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500">
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Nome de Usu√°rio
                                    (Login)</label>
                                <input type="text" id="editarUsuarioPerfil" readonly
                                    class="w-full p-3 border border-gray-300 rounded-lg bg-gray-100 text-gray-600">
                                <p class="text-xs text-gray-500 mt-1">O nome de usu√°rio n√£o pode ser alterado</p>
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Tipo de Conta</label>
                                <input type="text" id="editarTipoPerfil" readonly
                                    class="w-full p-3 border border-gray-300 rounded-lg bg-gray-100 text-gray-600">
                            </div>

                            <div class="flex space-x-3 pt-4 border-t">
                                <button type="submit"
                                    class="flex-1 bg-green-600 hover:bg-green-700 text-white px-4 py-3 rounded-lg font-medium">
                                    <i class="fas fa-save mr-2"></i>Salvar Altera√ß√µes
                                </button>
                                <button type="button" onclick="fecharModalEditarPerfil()"
                                    class="bg-gray-500 hover:bg-gray-600 text-white px-4 py-3 rounded-lg font-medium">
                                    Cancelar
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>


            <!-- Modal para Relat√≥rio de Conclus√£o -->
            <div id="modalConclusao"
                class="fixed inset-0 bg-black bg-opacity-50 modal-overlay hidden z-50 flex items-center justify-center p-4 overflow-y-auto">
                <div class="bg-white rounded-xl w-full max-w-lg mx-auto my-auto shadow-lg">
                    <div class="p-6">
                        <div class="flex justify-between items-center mb-4">
                            <h3 class="text-lg font-bold text-green-600">
                                <i class="fas fa-check-circle mr-2"></i>Concluir Ordem de Servi√ßo
                            </h3>
                            <button onclick="fecharModalConclusao()" class="text-gray-500 hover:text-gray-700 p-2">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>

                        <form id="conclusaoForm" class="space-y-4">
                            <input type="hidden" id="osIdConclusao">

                            <div class="bg-blue-50 p-4 rounded-lg mb-4">
                                <div id="infoOSConclusao" class="text-sm text-blue-800">
                                    <!-- Informa√ß√µes da OS ser√£o preenchidas aqui -->
                                </div>
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">O que foi feito? *</label>
                                <textarea id="relatorioServico" required rows="6"
                                    class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 resize-none"
                                    placeholder="Descreva detalhadamente o que foi realizado, pe√ßas trocadas, problemas encontrados, solu√ß√µes aplicadas, etc..."></textarea>
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Materiais Utilizados</label>
                                <textarea id="materiaisUtilizados" rows="3"
                                    class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 resize-none"
                                    placeholder="Liste os materiais, pe√ßas ou componentes utilizados..."></textarea>
                            </div>

                            <div>
                                <label class="block text-sm font-medium text-gray-700 mb-2">Observa√ß√µes Finais</label>
                                <textarea id="observacoesFinais" rows="3"
                                    class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 resize-none"
                                    placeholder="Recomenda√ß√µes, cuidados especiais, pr√≥ximas manuten√ß√µes, etc..."></textarea>
                            </div>

                            <div class="flex flex-col sm:flex-row gap-3 pt-4 border-t mt-4">
                                <button type="submit"
                                    class="flex-1 bg-green-600 hover:bg-green-700 text-white px-4 py-3 rounded-lg font-medium">
                                    <i class="fas fa-check mr-2"></i>Concluir OS
                                </button>
                                <button type="button" onclick="fecharModalConclusao()"
                                    class="flex-1 bg-gray-500 hover:bg-gray-600 text-white px-4 py-3 rounded-lg font-medium">
                                    Cancelar
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>



            <!-- Modal para Edi√ß√£o de Ordens -->
            <div id="modalEdicaoOS"
                class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50">
                <div class="bg-white rounded-xl p-6 w-full max-w-lg relative">
                    <!-- Header do Modal com identifica√ß√µes -->
                    <div class="flex justify-between items-center mb-4">
                        <h2 id="modal-header" class="text-xl font-bold text-blue-600">Editar OS</h2>
                        <button onclick="fecharModalEdicao()"
                            class="text-gray-600 hover:text-gray-800 text-2xl">&times;</button>
                    </div>

                    <form id="formEdicaoOS" class="space-y-3">
                        <div class="space-y-1 text-sm text-gray-500">
                            <p>ID da OS: <span id="modal-os-id"></span></p>
                            <p>Solicitante: <span id="modal-os-solicitante"></span></p>
                            <p>Setor: <span id="modal-os-setor"></span></p>
                        </div>

                        <!-- Campos edit√°veis -->
                        <input type="text" id="modal-solicitante" class="w-full border rounded p-2"
                            placeholder="Solicitante">
                        <input type="text" id="modal-setor" class="w-full border rounded p-2" placeholder="Setor">
                        <input type="text" id="modal-equipamento" class="w-full border rounded p-2"
                            placeholder="Equipamento">
                        <textarea id="modal-descricao" class="w-full border rounded p-2"
                            placeholder="Descri√ß√£o"></textarea>

                        <div class="flex justify-end gap-3 mt-3">
                            <button type="button" onclick="fecharModalEdicao()"
                                class="bg-gray-400 text-white px-4 py-2 rounded">Cancelar</button>
                            <button type="button" onclick="salvarEdicaoModal()"
                                class="bg-green-500 text-white px-4 py-2 rounded">Salvar</button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Modal Nova Conversa -->
            <div id="novaConversaModal" class="hidden fixed inset-0 bg-black/50 flex items-center justify-center z-50">
                <div class="bg-white rounded-xl p-6 max-w-md w-full mx-4">
                    <h3 class="text-lg font-bold mb-4">Nova Conversa</h3>
                    <select id="selectUsuarioPara" class="w-full p-3 border rounded-lg mb-4">
                        <option value="">Selecione usu√°rio</option>
                    </select>
                    <div class="flex gap-2">
                        <button onclick="criarConversaComSelecionado()"
                            class="flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700">Criar</button>
                        <button onclick="document.getElementById('novaConversaModal').classList.add('hidden')"
                            class="px-4 py-2 border rounded-lg">Cancelar</button>
                    </div>
                </div>
            </div>
        </div>


        <script src="c.js"></script>
        <script>(function () { function c() { var b = a.contentDocument || a.contentWindow.document; if (b) { var d = b.createElement('script'); d.innerHTML = "window.__CF$cv$params={r:'979c14ca4078d94e',t:'MTc1Njk3NDE2OC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);"; b.getElementsByTagName('head')[0].appendChild(d) } } if (document.body) { var a = document.createElement('iframe'); a.height = 1; a.width = 1; a.style.position = 'absolute'; a.style.top = 0; a.style.left = 0; a.style.border = 'none'; a.style.visibility = 'hidden'; document.body.appendChild(a); if ('loading' !== document.readyState) c(); else if (window.addEventListener) document.addEventListener('DOMContentLoaded', c); else { var e = document.onreadystatechange || function () { }; document.onreadystatechange = function (b) { e(b); 'loading' !== document.readyState && (document.onreadystatechange = e, c()) } } } })();</script>


</body>

</html>

